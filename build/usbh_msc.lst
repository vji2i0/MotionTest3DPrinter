ARM GAS  /tmp/cclRUp6d.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"usbh_msc.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.USBH_MSC_SOFProcess,"ax",%progbits
  16              		.align	1
  17              		.arch armv7-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	USBH_MSC_SOFProcess:
  24              	.LVL0:
  25              	.LFB72:
  26              		.file 1 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c"
   1:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
   2:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
   3:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @file    usbh_msc.c
   4:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @author  MCD Application Team
   5:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief   This file implements the MSC class driver functions
   6:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *          ===================================================================
   7:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *                                MSC Class  Description
   8:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *          ===================================================================
   9:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           This module manages the MSC class V1.0 following the "Universal
  10:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           Serial Bus Mass Storage Class (MSC) Bulk-Only Transport (BOT) Version 1.0
  11:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           Sep. 31, 1999".
  12:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           This driver implements the following aspects of the specification:
  13:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *             - Bulk-Only Transport protocol
  14:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *             - Subclass : SCSI transparent command set (ref. SCSI Primary Commands - 3 (SPC-3))
  15:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  16:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *  @endverbatim
  17:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  18:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
  19:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @attention
  20:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  21:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * <h2><center>&copy; Copyright (c) 2015 STMicroelectronics.
  22:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * All rights reserved.</center></h2>
  23:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  24:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * This software component is licensed by ST under Ultimate Liberty license
  25:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  26:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * the License. You may obtain a copy of the License at:
  27:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *                      www.st.com/SLA0044
  28:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  29:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
  30:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  31:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  32:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /* BSPDependencies
ARM GAS  /tmp/cclRUp6d.s 			page 2


  33:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** - "stm32xxxxx_{eval}{discovery}{nucleo_144}.c"
  34:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** - "stm32xxxxx_{eval}{discovery}_io.c"
  35:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** - "stm32xxxxx_{eval}{discovery}{adafruit}_lcd.c"
  36:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** - "stm32xxxxx_{eval}{discovery}_sdram.c"
  37:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** EndBSPDependencies */
  38:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  39:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /* Includes ------------------------------------------------------------------*/
  40:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc.h"
  41:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc_bot.h"
  42:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc_scsi.h"
  43:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  44:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  45:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_LIB
  46:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  47:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  48:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  49:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_CLASS
  50:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  51:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  52:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  53:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_MSC_CLASS
  54:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  55:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  56:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  57:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE
  58:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief    This file includes the mass storage related functions
  59:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  60:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  61:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  62:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  63:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_TypesDefinitions
  64:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  65:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  66:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  67:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
  68:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  69:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  70:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Defines
  71:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  72:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  73:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  74:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
  75:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  76:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  77:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Macros
  78:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  79:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  80:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  81:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
  82:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  83:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  84:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  85:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Variables
  86:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  87:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  88:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  89:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
ARM GAS  /tmp/cclRUp6d.s 			page 3


  90:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  91:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  92:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  93:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_FunctionPrototypes
  94:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  95:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  96:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  97:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceInit(USBH_HandleTypeDef *phost);
  98:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  99:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceDeInit(USBH_HandleTypeDef *phost);
 100:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 101:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_Process(USBH_HandleTypeDef *phost);
 102:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 103:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_ClassRequest(USBH_HandleTypeDef *phost);
 104:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 105:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_SOFProcess(USBH_HandleTypeDef *phost);
 106:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 107:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_RdWrProcess(USBH_HandleTypeDef *phost, uint8_t lun);
 108:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 109:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_ClassTypeDef  USBH_msc =
 110:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 111:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   "MSC",
 112:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USB_MSC_CLASS,
 113:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_InterfaceInit,
 114:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_InterfaceDeInit,
 115:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_ClassRequest,
 116:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_Process,
 117:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SOFProcess,
 118:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   NULL,
 119:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** };
 120:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 121:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 122:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 123:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 124:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 125:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 126:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 127:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Exported_Variables
 128:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 129:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 130:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 131:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 132:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 133:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 134:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 135:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 136:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Functions
 137:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 138:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 139:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 140:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 141:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 142:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_InterfaceInit
 143:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function init the MSC class.
 144:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 145:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 146:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
ARM GAS  /tmp/cclRUp6d.s 			page 4


 147:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceInit(USBH_HandleTypeDef *phost)
 148:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 149:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status;
 150:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t interface;
 151:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle;
 152:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 153:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   interface = USBH_FindInterface(phost, phost->pActiveClass->ClassCode, MSC_TRANSPARENT, MSC_BOT);
 154:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 155:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((interface == 0xFFU) || (interface >= USBH_MAX_NUM_INTERFACES)) /* Not Valid Interface */
 156:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 157:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_DbgLog("Cannot Find the interface for %s class.", phost->pActiveClass->Name);
 158:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 159:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 160:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 161:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   status = USBH_SelectInterface(phost, interface);
 162:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 163:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (status != USBH_OK)
 164:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 165:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 166:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 167:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 168:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   phost->pActiveClass->pData = (MSC_HandleTypeDef *)USBH_malloc(sizeof(MSC_HandleTypeDef));
 169:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 170:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 171:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (MSC_Handle == NULL)
 172:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 173:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_DbgLog("Cannot allocate memory for MSC Handle");
 174:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 175:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 176:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 177:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Initialize msc handler */
 178:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_memset(MSC_Handle, 0, sizeof(MSC_HandleTypeDef));
 179:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].bEndpointAddress & 0x80U)
 181:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 182:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEp = (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].bEndpointAddress);
 183:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 184:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 185:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 186:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 187:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEp = (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].bEndpointAddress);
 188:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 189:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 190:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].bEndpointAddress & 0x80U)
 192:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 193:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEp = (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].bEndpointAddress);
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 195:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 196:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 197:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 198:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEp = (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].bEndpointAddress);
 199:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 200:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 201:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_INIT;
 203:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->error = MSC_OK;
ARM GAS  /tmp/cclRUp6d.s 			page 5


 204:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->req_state = MSC_REQ_IDLE;
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 207:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 208:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_BOT_Init(phost);
 209:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Open the new channels */
 211:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_OpenPipe(phost, MSC_Handle->OutPipe, MSC_Handle->OutEp,
 212:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed,
 213:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USB_EP_TYPE_BULK, MSC_Handle->OutEpSize);
 214:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 215:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_OpenPipe(phost, MSC_Handle->InPipe, MSC_Handle->InEp,
 216:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed, USB_EP_TYPE_BULK,
 217:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->InEpSize);
 218:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 219:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_LL_SetToggle(phost, MSC_Handle->InPipe, 0U);
 220:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_LL_SetToggle(phost, MSC_Handle->OutPipe, 0U);
 221:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 222:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 223:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 224:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 225:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 226:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_InterfaceDeInit
 227:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function DeInit the Pipes used for the MSC class.
 228:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 229:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 230:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 231:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceDeInit(USBH_HandleTypeDef *phost)
 232:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 233:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 234:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 235:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (MSC_Handle->OutPipe)
 236:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 237:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_ClosePipe(phost, MSC_Handle->OutPipe);
 238:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe(phost, MSC_Handle->OutPipe);
 239:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = 0U;     /* Reset the Channel as Free */
 240:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 241:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 242:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (MSC_Handle->InPipe)
 243:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 244:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_ClosePipe(phost, MSC_Handle->InPipe);
 245:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe(phost, MSC_Handle->InPipe);
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = 0U;     /* Reset the Channel as Free */
 247:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 248:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->pActiveClass->pData)
 250:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 251:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_free(phost->pActiveClass->pData);
 252:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     phost->pActiveClass->pData = 0U;
 253:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 254:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 255:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 256:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 257:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 258:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 259:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_ClassRequest
 260:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is responsible for handling Standard requests
ARM GAS  /tmp/cclRUp6d.s 			page 6


 261:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         for MSC class.
 262:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 263:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 264:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 265:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_ClassRequest(USBH_HandleTypeDef *phost)
 266:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 269:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 271:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Switch MSC REQ state machine */
 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->req_state)
 273:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 274:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_REQ_IDLE:
 275:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_REQ_GET_MAX_LUN:
 276:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* Issue GetMaxLUN request */
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       status = USBH_MSC_BOT_REQ_GetMaxLUN(phost, (uint8_t *)&MSC_Handle->max_lun);
 278:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 279:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* When devices do not support the GetMaxLun request, this should
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****          be considred as only one logical unit is supported */
 281:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (status == USBH_NOT_SUPPORTED)
 282:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 283:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->max_lun = 0U;
 284:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         status = USBH_OK;
 285:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 286:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 287:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (status == USBH_OK)
 288:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->max_lun = ((MSC_Handle->max_lun & 0xFFU) > MAX_SUPPORTED_LUN) ? MAX_SUPPORTED_L
 290:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %lu", MSC_Handle->max_lun);
 291:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         for (i = 0U; i < MSC_Handle->max_lun; i++)
 293:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 294:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].prev_ready_state = USBH_FAIL;
 295:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 296:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 297:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 298:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 299:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 300:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_REQ_ERROR :
 301:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* a Clear Feature should be issued here */
 302:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (USBH_ClrFeature(phost, 0x00U) == USBH_OK)
 303:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 304:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->req_state = MSC_Handle->prev_req_state;
 305:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 306:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 307:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 308:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     default:
 309:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 310:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 311:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 312:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return status;
 313:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 314:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 315:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 316:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Process
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for managing state machine for MSC data transfers
ARM GAS  /tmp/cclRUp6d.s 			page 7


 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 319:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 321:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_Process(USBH_HandleTypeDef *phost)
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 323:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY;
 325:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 326:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef ready_status = USBH_BUSY;
 327:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->state)
 329:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 330:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_INIT:
 331:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (MSC_Handle->current_lun < MSC_Handle->max_lun)
 333:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 334:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 335:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 336:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         /* Switch MSC REQ state machine */
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         switch (MSC_Handle->unit[MSC_Handle->current_lun].state)
 338:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 339:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_INIT:
 340:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog("LUN #%d: ", MSC_Handle->current_lun);
 341:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 342:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->timer = phost->Timer;
 343:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 344:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 345:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_READ_INQUIRY:
 346:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             scsi_status = USBH_MSC_SCSI_Inquiry(phost, (uint8_t)MSC_Handle->current_lun, &MSC_Handl
 347:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 348:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_OK)
 349:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 350:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Vendor  : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 353:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 354:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 355:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_FAIL)
 356:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 357:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
 358:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 359:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else
 360:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 361:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (scsi_status == USBH_UNRECOVERED_ERROR)
 362:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 364:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 365:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 366:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 367:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 368:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 369:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_TEST_UNIT_READY:
 370:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             ready_status = USBH_MSC_SCSI_TestUnitReady(phost, (uint8_t)MSC_Handle->current_lun);
 371:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 372:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (ready_status == USBH_OK)
 373:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state != USBH_OK)
ARM GAS  /tmp/cclRUp6d.s 			page 8


 375:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 1U;
 377:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device ready");
 378:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 379:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               else
 380:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 0U;
 382:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_CAPACITY10;
 384:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_OK;
 386:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 387:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (ready_status == USBH_FAIL)
 388:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 389:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               /* Media not ready, so try to check again during 10s */
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state != USBH_FAIL)
 391:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 392:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 1U;
 393:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device NOT ready");
 394:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 395:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               else
 396:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 397:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 0U;
 398:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 399:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 401:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_FAIL;
 402:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 403:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else
 404:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (ready_status == USBH_UNRECOVERED_ERROR)
 406:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 407:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 408:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 409:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 410:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 411:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 412:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 413:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_READ_CAPACITY10:
 414:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             scsi_status = USBH_MSC_SCSI_ReadCapacity(phost, (uint8_t)MSC_Handle->current_lun, &MSC_
 415:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 416:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_OK)
 417:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (MSC_Handle->unit[MSC_Handle->current_lun].state_changed == 1U)
 419:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 420:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device capacity : %lu Bytes", \
 421:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                             (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr 
 422:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block number : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 423:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 424:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 425:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 426:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 428:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 429:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else if (scsi_status == USBH_FAIL)
 430:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 431:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
ARM GAS  /tmp/cclRUp6d.s 			page 9


 432:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 433:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else
 434:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (scsi_status == USBH_UNRECOVERED_ERROR)
 436:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 437:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 438:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 439:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 440:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 441:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 442:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 443:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_REQUEST_SENSE:
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             scsi_status = USBH_MSC_SCSI_RequestSense(phost, (uint8_t)MSC_Handle->current_lun, &MSC_
 445:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_OK)
 447:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if ((MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_UNIT_ATTEN
 449:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 450:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 451:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 452:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 if ((phost->Timer - MSC_Handle->timer) < 10000U)
 453:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   break;
 456:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 }
 457:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 458:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Sense Key  : %x", MSC_Handle->unit[MSC_Handle->current_lun].sense.key);
 460:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].s
 461:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->curre
 462:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 463:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 464:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_FAIL)
 466:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 467:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("MSC Device NOT ready");
 468:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 469:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 470:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else
 471:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 472:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (scsi_status == USBH_UNRECOVERED_ERROR)
 473:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 474:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 475:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 476:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 477:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 478:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 479:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 480:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_UNRECOVERED_ERROR:
 481:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->current_lun++;
 482:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 483:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 484:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           default:
 485:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 486:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 487:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 488:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
ARM GAS  /tmp/cclRUp6d.s 			page 10


 489:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 490:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 491:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 492:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 493:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 494:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 495:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 496:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 497:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else
 498:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 499:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->current_lun = 0U;
 500:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->state = MSC_IDLE;
 501:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 502:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 503:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 504:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 505:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 506:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 507:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 508:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 509:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 510:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         phost->pUser(phost, HOST_USER_CLASS_ACTIVE);
 511:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 512:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 513:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 514:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_IDLE:
 515:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       error = USBH_OK;
 516:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 517:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 518:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     default:
 519:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 520:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 521:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return error;
 522:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 523:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 524:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 525:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 526:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_SOFProcess
 527:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for SOF state
 528:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 529:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 530:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 531:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_SOFProcess(USBH_HandleTypeDef *phost)
 532:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
  27              		.loc 1 532 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
 533:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Prevent unused argument(s) compilation warning */
 534:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   UNUSED(phost);
  32              		.loc 1 534 3 view .LVU1
 535:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 536:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
  33              		.loc 1 536 3 view .LVU2
 537:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
  34              		.loc 1 537 1 is_stmt 0 view .LVU3
ARM GAS  /tmp/cclRUp6d.s 			page 11


  35 0000 0020     		movs	r0, #0
  36              	.LVL1:
  37              		.loc 1 537 1 view .LVU4
  38 0002 7047     		bx	lr
  39              		.cfi_endproc
  40              	.LFE72:
  42              		.section	.text.USBH_MSC_Process,"ax",%progbits
  43              		.align	1
  44              		.syntax unified
  45              		.thumb
  46              		.thumb_func
  47              		.fpu softvfp
  49              	USBH_MSC_Process:
  50              	.LVL2:
  51              	.LFB71:
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
  52              		.loc 1 322 1 is_stmt 1 view -0
  53              		.cfi_startproc
  54              		@ args = 0, pretend = 0, frame = 0
  55              		@ frame_needed = 0, uses_anonymous_args = 0
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
  56              		.loc 1 322 1 is_stmt 0 view .LVU6
  57 0000 70B5     		push	{r4, r5, r6, lr}
  58              	.LCFI0:
  59              		.cfi_def_cfa_offset 16
  60              		.cfi_offset 4, -16
  61              		.cfi_offset 5, -12
  62              		.cfi_offset 6, -8
  63              		.cfi_offset 14, -4
 323:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY;
  64              		.loc 1 323 3 is_stmt 1 view .LVU7
 323:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY;
  65              		.loc 1 323 62 is_stmt 0 view .LVU8
  66 0002 D0F87833 		ldr	r3, [r0, #888]
 323:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY;
  67              		.loc 1 323 22 view .LVU9
  68 0006 DE69     		ldr	r6, [r3, #28]
  69              	.LVL3:
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
  70              		.loc 1 324 3 is_stmt 1 view .LVU10
 325:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef ready_status = USBH_BUSY;
  71              		.loc 1 325 3 view .LVU11
 326:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  72              		.loc 1 326 3 view .LVU12
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
  73              		.loc 1 328 3 view .LVU13
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
  74              		.loc 1 328 21 is_stmt 0 view .LVU14
  75 0008 337B     		ldrb	r3, [r6, #12]	@ zero_extendqisi2
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
  76              		.loc 1 328 3 view .LVU15
  77 000a 23B1     		cbz	r3, .L3
  78 000c 012B     		cmp	r3, #1
  79 000e 40F04581 		bne	.L27
 515:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
  80              		.loc 1 515 13 view .LVU16
  81 0012 0020     		movs	r0, #0
ARM GAS  /tmp/cclRUp6d.s 			page 12


  82              	.LVL4:
  83              	.L4:
 521:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
  84              		.loc 1 521 3 is_stmt 1 view .LVU17
 522:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  85              		.loc 1 522 1 is_stmt 0 view .LVU18
  86 0014 70BD     		pop	{r4, r5, r6, pc}
  87              	.LVL5:
  88              	.L3:
 522:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  89              		.loc 1 522 1 view .LVU19
  90 0016 0446     		mov	r4, r0
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
  91              		.loc 1 332 7 is_stmt 1 view .LVU20
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
  92              		.loc 1 332 21 is_stmt 0 view .LVU21
  93 0018 B6F8F810 		ldrh	r1, [r6, #248]
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
  94              		.loc 1 332 47 view .LVU22
  95 001c 3368     		ldr	r3, [r6]
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
  96              		.loc 1 332 10 view .LVU23
  97 001e 9942     		cmp	r1, r3
  98 0020 80F03181 		bcs	.L5
 335:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         /* Switch MSC REQ state machine */
  99              		.loc 1 335 9 is_stmt 1 view .LVU24
 335:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         /* Switch MSC REQ state machine */
 100              		.loc 1 335 57 is_stmt 0 view .LVU25
 101 0024 3423     		movs	r3, #52
 102 0026 03FB0163 		mla	r3, r3, r1, r6
 103 002a 0122     		movs	r2, #1
 104 002c 83F89120 		strb	r2, [r3, #145]
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 105              		.loc 1 337 9 is_stmt 1 view .LVU26
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 106              		.loc 1 337 58 is_stmt 0 view .LVU27
 107 0030 93F89030 		ldrb	r3, [r3, #144]	@ zero_extendqisi2
 108 0034 082B     		cmp	r3, #8
 109 0036 00F23381 		bhi	.L28
 110 003a DFE813F0 		tbh	[pc, r3, lsl #1]
 111              	.L7:
 112 003e 0900     		.2byte	(.L12-.L7)/2
 113 0040 3101     		.2byte	(.L28-.L7)/2
 114 0042 4400     		.2byte	(.L11-.L7)/2
 115 0044 9E00     		.2byte	(.L10-.L7)/2
 116 0046 1500     		.2byte	(.L9-.L7)/2
 117 0048 D300     		.2byte	(.L8-.L7)/2
 118 004a 3101     		.2byte	(.L28-.L7)/2
 119 004c 3101     		.2byte	(.L28-.L7)/2
 120 004e 1F01     		.2byte	(.L6-.L7)/2
 121              		.p2align 1
 122              	.L12:
 340:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 123              		.loc 1 340 13 is_stmt 1 view .LVU28
 340:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 124              		.loc 1 340 13 view .LVU29
 340:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
ARM GAS  /tmp/cclRUp6d.s 			page 13


 125              		.loc 1 340 13 view .LVU30
 341:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->timer = phost->Timer;
 126              		.loc 1 341 13 view .LVU31
 341:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->timer = phost->Timer;
 127              		.loc 1 341 61 is_stmt 0 view .LVU32
 128 0050 3423     		movs	r3, #52
 129 0052 03FB0161 		mla	r1, r3, r1, r6
 130 0056 0423     		movs	r3, #4
 131 0058 81F89030 		strb	r3, [r1, #144]
 342:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 132              		.loc 1 342 13 is_stmt 1 view .LVU33
 342:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 133              		.loc 1 342 38 is_stmt 0 view .LVU34
 134 005c D0F8C033 		ldr	r3, [r0, #960]
 342:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 135              		.loc 1 342 31 view .LVU35
 136 0060 C6F8FC30 		str	r3, [r6, #252]
 343:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 137              		.loc 1 343 13 is_stmt 1 view .LVU36
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 138              		.loc 1 324 22 is_stmt 0 view .LVU37
 139 0064 0120     		movs	r0, #1
 140              	.LVL6:
 343:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 141              		.loc 1 343 13 view .LVU38
 142 0066 D5E7     		b	.L4
 143              	.LVL7:
 144              	.L9:
 346:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 145              		.loc 1 346 13 is_stmt 1 view .LVU39
 346:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 146              		.loc 1 346 27 is_stmt 0 view .LVU40
 147 0068 3422     		movs	r2, #52
 148 006a 02FB01F2 		mul	r2, r2, r1
 149 006e 9832     		adds	r2, r2, #152
 150 0070 3244     		add	r2, r2, r6
 151 0072 0732     		adds	r2, r2, #7
 152 0074 C9B2     		uxtb	r1, r1
 153 0076 FFF7FEFF 		bl	USBH_MSC_SCSI_Inquiry
 154              	.LVL8:
 348:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 155              		.loc 1 348 13 is_stmt 1 view .LVU41
 348:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 156              		.loc 1 348 16 is_stmt 0 view .LVU42
 157 007a 0346     		mov	r3, r0
 158 007c 38B9     		cbnz	r0, .L13
 350:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 159              		.loc 1 350 15 is_stmt 1 view .LVU43
 350:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 160              		.loc 1 350 15 view .LVU44
 350:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 161              		.loc 1 350 15 view .LVU45
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 162              		.loc 1 351 15 view .LVU46
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 163              		.loc 1 351 15 view .LVU47
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
ARM GAS  /tmp/cclRUp6d.s 			page 14


 164              		.loc 1 351 15 view .LVU48
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 165              		.loc 1 352 15 view .LVU49
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 166              		.loc 1 352 15 view .LVU50
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 167              		.loc 1 352 15 view .LVU51
 353:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 168              		.loc 1 353 15 view .LVU52
 353:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 169              		.loc 1 353 42 is_stmt 0 view .LVU53
 170 007e B6F8F820 		ldrh	r2, [r6, #248]
 353:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 171              		.loc 1 353 63 view .LVU54
 172 0082 3421     		movs	r1, #52
 173 0084 01FB0262 		mla	r2, r1, r2, r6
 174 0088 0221     		movs	r1, #2
 175 008a 82F89010 		strb	r1, [r2, #144]
 176              	.L13:
 355:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 177              		.loc 1 355 13 is_stmt 1 view .LVU55
 355:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 178              		.loc 1 355 16 is_stmt 0 view .LVU56
 179 008e 022B     		cmp	r3, #2
 180 0090 03D0     		beq	.L34
 361:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 181              		.loc 1 361 15 is_stmt 1 view .LVU57
 361:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 182              		.loc 1 361 18 is_stmt 0 view .LVU58
 183 0092 042B     		cmp	r3, #4
 184 0094 0BD0     		beq	.L35
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 185              		.loc 1 324 22 view .LVU59
 186 0096 0120     		movs	r0, #1
 187              	.LVL9:
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 188              		.loc 1 324 22 view .LVU60
 189 0098 BCE7     		b	.L4
 190              	.LVL10:
 191              	.L34:
 357:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 192              		.loc 1 357 15 is_stmt 1 view .LVU61
 357:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 193              		.loc 1 357 42 is_stmt 0 view .LVU62
 194 009a B6F8F830 		ldrh	r3, [r6, #248]
 357:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 195              		.loc 1 357 63 view .LVU63
 196 009e 3422     		movs	r2, #52
 197 00a0 02FB0366 		mla	r6, r2, r3, r6
 198              	.LVL11:
 357:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 199              		.loc 1 357 63 view .LVU64
 200 00a4 0523     		movs	r3, #5
 201 00a6 86F89030 		strb	r3, [r6, #144]
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 202              		.loc 1 324 22 view .LVU65
 203 00aa 0120     		movs	r0, #1
ARM GAS  /tmp/cclRUp6d.s 			page 15


 204              	.LVL12:
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 205              		.loc 1 324 22 view .LVU66
 206 00ac B2E7     		b	.L4
 207              	.LVL13:
 208              	.L35:
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 209              		.loc 1 363 17 is_stmt 1 view .LVU67
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 210              		.loc 1 363 44 is_stmt 0 view .LVU68
 211 00ae B6F8F830 		ldrh	r3, [r6, #248]
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 212              		.loc 1 363 65 view .LVU69
 213 00b2 3422     		movs	r2, #52
 214 00b4 02FB0366 		mla	r6, r2, r3, r6
 215              	.LVL14:
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 216              		.loc 1 363 65 view .LVU70
 217 00b8 0120     		movs	r0, #1
 218              	.LVL15:
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 219              		.loc 1 363 65 view .LVU71
 220 00ba 86F89000 		strb	r0, [r6, #144]
 364:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 221              		.loc 1 364 17 is_stmt 1 view .LVU72
 364:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 222              		.loc 1 364 65 is_stmt 0 view .LVU73
 223 00be 0223     		movs	r3, #2
 224 00c0 86F89130 		strb	r3, [r6, #145]
 225 00c4 A6E7     		b	.L4
 226              	.LVL16:
 227              	.L11:
 370:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 228              		.loc 1 370 13 is_stmt 1 view .LVU74
 370:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 229              		.loc 1 370 28 is_stmt 0 view .LVU75
 230 00c6 C9B2     		uxtb	r1, r1
 231 00c8 FFF7FEFF 		bl	USBH_MSC_SCSI_TestUnitReady
 232              	.LVL17:
 372:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 233              		.loc 1 372 13 is_stmt 1 view .LVU76
 372:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 234              		.loc 1 372 16 is_stmt 0 view .LVU77
 235 00cc 0246     		mov	r2, r0
 236 00ce C0B9     		cbnz	r0, .L15
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 237              		.loc 1 374 15 is_stmt 1 view .LVU78
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 238              		.loc 1 374 46 is_stmt 0 view .LVU79
 239 00d0 B6F8F830 		ldrh	r3, [r6, #248]
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 240              		.loc 1 374 60 view .LVU80
 241 00d4 3421     		movs	r1, #52
 242 00d6 01FB0361 		mla	r1, r1, r3, r6
 243 00da 91F89210 		ldrb	r1, [r1, #146]	@ zero_extendqisi2
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 244              		.loc 1 374 18 view .LVU81
ARM GAS  /tmp/cclRUp6d.s 			page 16


 245 00de B1B1     		cbz	r1, .L16
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device ready");
 246              		.loc 1 376 17 is_stmt 1 view .LVU82
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device ready");
 247              		.loc 1 376 73 is_stmt 0 view .LVU83
 248 00e0 3421     		movs	r1, #52
 249 00e2 01FB0361 		mla	r1, r1, r3, r6
 250 00e6 0120     		movs	r0, #1
 251              	.LVL18:
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device ready");
 252              		.loc 1 376 73 view .LVU84
 253 00e8 81F8C100 		strb	r0, [r1, #193]
 377:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 254              		.loc 1 377 17 is_stmt 1 view .LVU85
 377:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 255              		.loc 1 377 17 view .LVU86
 377:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 256              		.loc 1 377 17 view .LVU87
 257              	.L17:
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 258              		.loc 1 383 15 view .LVU88
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 259              		.loc 1 383 63 is_stmt 0 view .LVU89
 260 00ec 3421     		movs	r1, #52
 261 00ee 01FB0363 		mla	r3, r1, r3, r6
 262 00f2 0321     		movs	r1, #3
 263 00f4 83F89010 		strb	r1, [r3, #144]
 384:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_OK;
 264              		.loc 1 384 15 is_stmt 1 view .LVU90
 384:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_OK;
 265              		.loc 1 384 63 is_stmt 0 view .LVU91
 266 00f8 0021     		movs	r1, #0
 267 00fa 83F89110 		strb	r1, [r3, #145]
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 268              		.loc 1 385 15 is_stmt 1 view .LVU92
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 269              		.loc 1 385 74 is_stmt 0 view .LVU93
 270 00fe 83F89210 		strb	r1, [r3, #146]
 271              	.L15:
 387:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 272              		.loc 1 387 13 is_stmt 1 view .LVU94
 387:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 273              		.loc 1 387 16 is_stmt 0 view .LVU95
 274 0102 022A     		cmp	r2, #2
 275 0104 0AD0     		beq	.L36
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 276              		.loc 1 405 15 is_stmt 1 view .LVU96
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 277              		.loc 1 405 18 is_stmt 0 view .LVU97
 278 0106 042A     		cmp	r2, #4
 279 0108 2BD0     		beq	.L37
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 280              		.loc 1 324 22 view .LVU98
 281 010a 0120     		movs	r0, #1
 282 010c 82E7     		b	.L4
 283              	.LVL19:
 284              	.L16:
ARM GAS  /tmp/cclRUp6d.s 			page 17


 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 285              		.loc 1 381 17 is_stmt 1 view .LVU99
 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 286              		.loc 1 381 73 is_stmt 0 view .LVU100
 287 010e 3421     		movs	r1, #52
 288 0110 01FB0361 		mla	r1, r1, r3, r6
 289 0114 0020     		movs	r0, #0
 290              	.LVL20:
 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 291              		.loc 1 381 73 view .LVU101
 292 0116 81F8C100 		strb	r0, [r1, #193]
 293 011a E7E7     		b	.L17
 294              	.L36:
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 295              		.loc 1 390 15 is_stmt 1 view .LVU102
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 296              		.loc 1 390 46 is_stmt 0 view .LVU103
 297 011c B6F8F830 		ldrh	r3, [r6, #248]
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 298              		.loc 1 390 60 view .LVU104
 299 0120 3422     		movs	r2, #52
 300 0122 02FB0362 		mla	r2, r2, r3, r6
 301 0126 92F89220 		ldrb	r2, [r2, #146]	@ zero_extendqisi2
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 302              		.loc 1 390 18 view .LVU105
 303 012a 022A     		cmp	r2, #2
 304 012c 12D0     		beq	.L19
 392:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device NOT ready");
 305              		.loc 1 392 17 is_stmt 1 view .LVU106
 392:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device NOT ready");
 306              		.loc 1 392 73 is_stmt 0 view .LVU107
 307 012e 3422     		movs	r2, #52
 308 0130 02FB0362 		mla	r2, r2, r3, r6
 309 0134 0121     		movs	r1, #1
 310 0136 82F8C110 		strb	r1, [r2, #193]
 393:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 311              		.loc 1 393 17 is_stmt 1 view .LVU108
 393:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 312              		.loc 1 393 17 view .LVU109
 393:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 313              		.loc 1 393 17 view .LVU110
 314              	.L20:
 399:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 315              		.loc 1 399 15 view .LVU111
 399:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 316              		.loc 1 399 63 is_stmt 0 view .LVU112
 317 013a 3422     		movs	r2, #52
 318 013c 02FB0366 		mla	r6, r2, r3, r6
 319              	.LVL21:
 399:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 320              		.loc 1 399 63 view .LVU113
 321 0140 0523     		movs	r3, #5
 322 0142 86F89030 		strb	r3, [r6, #144]
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_FAIL;
 323              		.loc 1 400 15 is_stmt 1 view .LVU114
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_FAIL;
 324              		.loc 1 400 63 is_stmt 0 view .LVU115
ARM GAS  /tmp/cclRUp6d.s 			page 18


 325 0146 0120     		movs	r0, #1
 326 0148 86F89100 		strb	r0, [r6, #145]
 401:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 327              		.loc 1 401 15 is_stmt 1 view .LVU116
 401:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 328              		.loc 1 401 74 is_stmt 0 view .LVU117
 329 014c 0223     		movs	r3, #2
 330 014e 86F89230 		strb	r3, [r6, #146]
 331 0152 5FE7     		b	.L4
 332              	.LVL22:
 333              	.L19:
 397:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 334              		.loc 1 397 17 is_stmt 1 view .LVU118
 397:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 335              		.loc 1 397 73 is_stmt 0 view .LVU119
 336 0154 3422     		movs	r2, #52
 337 0156 02FB0362 		mla	r2, r2, r3, r6
 338 015a 0021     		movs	r1, #0
 339 015c 82F8C110 		strb	r1, [r2, #193]
 340 0160 EBE7     		b	.L20
 341              	.L37:
 407:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 342              		.loc 1 407 17 is_stmt 1 view .LVU120
 407:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 343              		.loc 1 407 44 is_stmt 0 view .LVU121
 344 0162 B6F8F830 		ldrh	r3, [r6, #248]
 407:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 345              		.loc 1 407 65 view .LVU122
 346 0166 3422     		movs	r2, #52
 347 0168 02FB0366 		mla	r6, r2, r3, r6
 348              	.LVL23:
 407:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 349              		.loc 1 407 65 view .LVU123
 350 016c 0120     		movs	r0, #1
 351 016e 86F89000 		strb	r0, [r6, #144]
 408:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 352              		.loc 1 408 17 is_stmt 1 view .LVU124
 408:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 353              		.loc 1 408 65 is_stmt 0 view .LVU125
 354 0172 0223     		movs	r3, #2
 355 0174 86F89130 		strb	r3, [r6, #145]
 356 0178 4CE7     		b	.L4
 357              	.LVL24:
 358              	.L10:
 414:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 359              		.loc 1 414 13 is_stmt 1 view .LVU126
 414:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 360              		.loc 1 414 27 is_stmt 0 view .LVU127
 361 017a 3422     		movs	r2, #52
 362 017c 02FB01F2 		mul	r2, r2, r1
 363 0180 9032     		adds	r2, r2, #144
 364 0182 3244     		add	r2, r2, r6
 365 0184 0432     		adds	r2, r2, #4
 366 0186 C9B2     		uxtb	r1, r1
 367 0188 FFF7FEFF 		bl	USBH_MSC_SCSI_ReadCapacity
 368              	.LVL25:
 416:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
ARM GAS  /tmp/cclRUp6d.s 			page 19


 369              		.loc 1 416 13 is_stmt 1 view .LVU128
 416:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 370              		.loc 1 416 16 is_stmt 0 view .LVU129
 371 018c 70B9     		cbnz	r0, .L21
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 372              		.loc 1 418 15 is_stmt 1 view .LVU130
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 373              		.loc 1 418 46 is_stmt 0 view .LVU131
 374 018e B6F8F830 		ldrh	r3, [r6, #248]
 420:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                             (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr 
 375              		.loc 1 420 17 is_stmt 1 view .LVU132
 420:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                             (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr 
 376              		.loc 1 420 17 view .LVU133
 420:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                             (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr 
 377              		.loc 1 420 17 view .LVU134
 422:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 378              		.loc 1 422 17 view .LVU135
 422:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 379              		.loc 1 422 17 view .LVU136
 422:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 380              		.loc 1 422 17 view .LVU137
 423:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 381              		.loc 1 423 17 view .LVU138
 423:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 382              		.loc 1 423 17 view .LVU139
 423:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 383              		.loc 1 423 17 view .LVU140
 425:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 384              		.loc 1 425 15 view .LVU141
 425:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 385              		.loc 1 425 63 is_stmt 0 view .LVU142
 386 0192 3422     		movs	r2, #52
 387 0194 02FB0362 		mla	r2, r2, r3, r6
 388 0198 0120     		movs	r0, #1
 389              	.LVL26:
 425:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 390              		.loc 1 425 63 view .LVU143
 391 019a 82F89000 		strb	r0, [r2, #144]
 426:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 392              		.loc 1 426 15 is_stmt 1 view .LVU144
 426:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 393              		.loc 1 426 63 is_stmt 0 view .LVU145
 394 019e 0021     		movs	r1, #0
 395 01a0 82F89110 		strb	r1, [r2, #145]
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 396              		.loc 1 427 15 is_stmt 1 view .LVU146
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 397              		.loc 1 427 38 is_stmt 0 view .LVU147
 398 01a4 0344     		add	r3, r3, r0
 399 01a6 A6F8F830 		strh	r3, [r6, #248]	@ movhi
 400 01aa 33E7     		b	.L4
 401              	.LVL27:
 402              	.L21:
 429:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 403              		.loc 1 429 18 is_stmt 1 view .LVU148
 429:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 404              		.loc 1 429 21 is_stmt 0 view .LVU149
ARM GAS  /tmp/cclRUp6d.s 			page 20


 405 01ac 0228     		cmp	r0, #2
 406 01ae 03D0     		beq	.L38
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 407              		.loc 1 435 15 is_stmt 1 view .LVU150
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 408              		.loc 1 435 18 is_stmt 0 view .LVU151
 409 01b0 0428     		cmp	r0, #4
 410 01b2 0BD0     		beq	.L39
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 411              		.loc 1 324 22 view .LVU152
 412 01b4 0120     		movs	r0, #1
 413              	.LVL28:
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 414              		.loc 1 324 22 view .LVU153
 415 01b6 2DE7     		b	.L4
 416              	.LVL29:
 417              	.L38:
 431:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 418              		.loc 1 431 15 is_stmt 1 view .LVU154
 431:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 419              		.loc 1 431 42 is_stmt 0 view .LVU155
 420 01b8 B6F8F830 		ldrh	r3, [r6, #248]
 431:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 421              		.loc 1 431 63 view .LVU156
 422 01bc 3422     		movs	r2, #52
 423 01be 02FB0366 		mla	r6, r2, r3, r6
 424              	.LVL30:
 431:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 425              		.loc 1 431 63 view .LVU157
 426 01c2 0523     		movs	r3, #5
 427 01c4 86F89030 		strb	r3, [r6, #144]
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 428              		.loc 1 324 22 view .LVU158
 429 01c8 0120     		movs	r0, #1
 430              	.LVL31:
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 431              		.loc 1 324 22 view .LVU159
 432 01ca 23E7     		b	.L4
 433              	.LVL32:
 434              	.L39:
 437:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 435              		.loc 1 437 17 is_stmt 1 view .LVU160
 437:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 436              		.loc 1 437 44 is_stmt 0 view .LVU161
 437 01cc B6F8F830 		ldrh	r3, [r6, #248]
 437:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 438              		.loc 1 437 65 view .LVU162
 439 01d0 3422     		movs	r2, #52
 440 01d2 02FB0366 		mla	r6, r2, r3, r6
 441              	.LVL33:
 437:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 442              		.loc 1 437 65 view .LVU163
 443 01d6 0120     		movs	r0, #1
 444              	.LVL34:
 437:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 445              		.loc 1 437 65 view .LVU164
 446 01d8 86F89000 		strb	r0, [r6, #144]
ARM GAS  /tmp/cclRUp6d.s 			page 21


 438:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 447              		.loc 1 438 17 is_stmt 1 view .LVU165
 438:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 448              		.loc 1 438 65 is_stmt 0 view .LVU166
 449 01dc 0223     		movs	r3, #2
 450 01de 86F89130 		strb	r3, [r6, #145]
 451 01e2 17E7     		b	.L4
 452              	.LVL35:
 453              	.L8:
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 454              		.loc 1 444 13 is_stmt 1 view .LVU167
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 455              		.loc 1 444 27 is_stmt 0 view .LVU168
 456 01e4 3422     		movs	r2, #52
 457 01e6 02FB01F2 		mul	r2, r2, r1
 458 01ea 9832     		adds	r2, r2, #152
 459 01ec 3244     		add	r2, r2, r6
 460 01ee 0432     		adds	r2, r2, #4
 461 01f0 C9B2     		uxtb	r1, r1
 462 01f2 FFF7FEFF 		bl	USBH_MSC_SCSI_RequestSense
 463              	.LVL36:
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 464              		.loc 1 446 13 is_stmt 1 view .LVU169
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 465              		.loc 1 446 16 is_stmt 0 view .LVU170
 466 01f6 0246     		mov	r2, r0
 467 01f8 98B9     		cbnz	r0, .L23
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 468              		.loc 1 448 15 is_stmt 1 view .LVU171
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 469              		.loc 1 448 47 is_stmt 0 view .LVU172
 470 01fa B6F8F830 		ldrh	r3, [r6, #248]
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 471              		.loc 1 448 67 view .LVU173
 472 01fe 3421     		movs	r1, #52
 473 0200 01FB0361 		mla	r1, r1, r3, r6
 474 0204 91F89C10 		ldrb	r1, [r1, #156]	@ zero_extendqisi2
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 475              		.loc 1 448 18 view .LVU174
 476 0208 0629     		cmp	r1, #6
 477 020a 10D0     		beq	.L24
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 478              		.loc 1 448 106 discriminator 1 view .LVU175
 479 020c 0229     		cmp	r1, #2
 480 020e 0ED0     		beq	.L24
 481              	.LVL37:
 482              	.L25:
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].s
 483              		.loc 1 459 15 is_stmt 1 view .LVU176
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].s
 484              		.loc 1 459 15 view .LVU177
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].s
 485              		.loc 1 459 15 view .LVU178
 460:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->curre
 486              		.loc 1 460 15 view .LVU179
 460:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->curre
 487              		.loc 1 460 15 view .LVU180
ARM GAS  /tmp/cclRUp6d.s 			page 22


 460:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->curre
 488              		.loc 1 460 15 view .LVU181
 461:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 489              		.loc 1 461 15 view .LVU182
 461:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 490              		.loc 1 461 15 view .LVU183
 461:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 491              		.loc 1 461 15 view .LVU184
 462:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 492              		.loc 1 462 15 view .LVU185
 462:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 493              		.loc 1 462 63 is_stmt 0 view .LVU186
 494 0210 3421     		movs	r1, #52
 495 0212 01FB0361 		mla	r1, r1, r3, r6
 496 0216 0120     		movs	r0, #1
 497 0218 81F89000 		strb	r0, [r1, #144]
 463:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 498              		.loc 1 463 15 is_stmt 1 view .LVU187
 463:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 499              		.loc 1 463 38 is_stmt 0 view .LVU188
 500 021c 0344     		add	r3, r3, r0
 501 021e A6F8F830 		strh	r3, [r6, #248]	@ movhi
 502              	.L23:
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 503              		.loc 1 465 13 is_stmt 1 view .LVU189
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 504              		.loc 1 465 16 is_stmt 0 view .LVU190
 505 0222 022A     		cmp	r2, #2
 506 0224 14D0     		beq	.L40
 472:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 507              		.loc 1 472 15 is_stmt 1 view .LVU191
 472:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 508              		.loc 1 472 18 is_stmt 0 view .LVU192
 509 0226 042A     		cmp	r2, #4
 510 0228 1CD0     		beq	.L41
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 511              		.loc 1 324 22 view .LVU193
 512 022a 0120     		movs	r0, #1
 513 022c F2E6     		b	.L4
 514              	.LVL38:
 515              	.L24:
 452:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 516              		.loc 1 452 17 is_stmt 1 view .LVU194
 452:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 517              		.loc 1 452 27 is_stmt 0 view .LVU195
 518 022e D4F8C013 		ldr	r1, [r4, #960]
 452:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 519              		.loc 1 452 47 view .LVU196
 520 0232 D6F8FC00 		ldr	r0, [r6, #252]
 521              	.LVL39:
 452:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 522              		.loc 1 452 35 view .LVU197
 523 0236 091A     		subs	r1, r1, r0
 452:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 524              		.loc 1 452 20 view .LVU198
 525 0238 42F20F70 		movw	r0, #9999
 526 023c 8142     		cmp	r1, r0
ARM GAS  /tmp/cclRUp6d.s 			page 23


 527 023e E7D8     		bhi	.L25
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   break;
 528              		.loc 1 454 19 is_stmt 1 view .LVU199
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   break;
 529              		.loc 1 454 67 is_stmt 0 view .LVU200
 530 0240 3422     		movs	r2, #52
 531 0242 02FB0363 		mla	r3, r2, r3, r6
 532 0246 0222     		movs	r2, #2
 533 0248 83F89020 		strb	r2, [r3, #144]
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 }
 534              		.loc 1 455 19 is_stmt 1 view .LVU201
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 535              		.loc 1 324 22 is_stmt 0 view .LVU202
 536 024c 0120     		movs	r0, #1
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 }
 537              		.loc 1 455 19 view .LVU203
 538 024e E1E6     		b	.L4
 539              	.L40:
 467:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 540              		.loc 1 467 15 is_stmt 1 view .LVU204
 467:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 541              		.loc 1 467 15 view .LVU205
 467:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 542              		.loc 1 467 15 view .LVU206
 468:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 543              		.loc 1 468 15 view .LVU207
 468:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 544              		.loc 1 468 42 is_stmt 0 view .LVU208
 545 0250 B6F8F830 		ldrh	r3, [r6, #248]
 468:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 546              		.loc 1 468 63 view .LVU209
 547 0254 3422     		movs	r2, #52
 548 0256 02FB0366 		mla	r6, r2, r3, r6
 549              	.LVL40:
 468:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 550              		.loc 1 468 63 view .LVU210
 551 025a 0823     		movs	r3, #8
 552 025c 86F89030 		strb	r3, [r6, #144]
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 553              		.loc 1 324 22 view .LVU211
 554 0260 0120     		movs	r0, #1
 555 0262 D7E6     		b	.L4
 556              	.LVL41:
 557              	.L41:
 474:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 558              		.loc 1 474 17 is_stmt 1 view .LVU212
 474:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 559              		.loc 1 474 44 is_stmt 0 view .LVU213
 560 0264 B6F8F830 		ldrh	r3, [r6, #248]
 474:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 561              		.loc 1 474 65 view .LVU214
 562 0268 3422     		movs	r2, #52
 563 026a 02FB0366 		mla	r6, r2, r3, r6
 564              	.LVL42:
 474:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 565              		.loc 1 474 65 view .LVU215
 566 026e 0120     		movs	r0, #1
ARM GAS  /tmp/cclRUp6d.s 			page 24


 567 0270 86F89000 		strb	r0, [r6, #144]
 475:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 568              		.loc 1 475 17 is_stmt 1 view .LVU216
 475:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 569              		.loc 1 475 65 is_stmt 0 view .LVU217
 570 0274 0223     		movs	r3, #2
 571 0276 86F89130 		strb	r3, [r6, #145]
 572 027a CBE6     		b	.L4
 573              	.LVL43:
 574              	.L6:
 481:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 575              		.loc 1 481 13 is_stmt 1 view .LVU218
 481:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 576              		.loc 1 481 36 is_stmt 0 view .LVU219
 577 027c 0131     		adds	r1, r1, #1
 578 027e A6F8F810 		strh	r1, [r6, #248]	@ movhi
 482:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 579              		.loc 1 482 13 is_stmt 1 view .LVU220
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 580              		.loc 1 324 22 is_stmt 0 view .LVU221
 581 0282 0120     		movs	r0, #1
 582              	.LVL44:
 482:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 583              		.loc 1 482 13 view .LVU222
 584 0284 C6E6     		b	.L4
 585              	.LVL45:
 586              	.L5:
 499:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->state = MSC_IDLE;
 587              		.loc 1 499 9 is_stmt 1 view .LVU223
 499:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->state = MSC_IDLE;
 588              		.loc 1 499 33 is_stmt 0 view .LVU224
 589 0286 0023     		movs	r3, #0
 590 0288 A6F8F830 		strh	r3, [r6, #248]	@ movhi
 500:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 591              		.loc 1 500 9 is_stmt 1 view .LVU225
 500:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 592              		.loc 1 500 27 is_stmt 0 view .LVU226
 593 028c 0125     		movs	r5, #1
 594 028e 3573     		strb	r5, [r6, #12]
 510:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 595              		.loc 1 510 9 is_stmt 1 view .LVU227
 510:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 596              		.loc 1 510 14 is_stmt 0 view .LVU228
 597 0290 D0F8CC33 		ldr	r3, [r0, #972]
 510:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 598              		.loc 1 510 9 view .LVU229
 599 0294 0221     		movs	r1, #2
 600 0296 9847     		blx	r3
 601              	.LVL46:
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 602              		.loc 1 324 22 view .LVU230
 603 0298 2846     		mov	r0, r5
 604 029a BBE6     		b	.L4
 605              	.LVL47:
 606              	.L27:
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 607              		.loc 1 328 3 view .LVU231
ARM GAS  /tmp/cclRUp6d.s 			page 25


 608 029c 0120     		movs	r0, #1
 609              	.LVL48:
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 610              		.loc 1 328 3 view .LVU232
 611 029e B9E6     		b	.L4
 612              	.LVL49:
 613              	.L28:
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 614              		.loc 1 337 58 view .LVU233
 615 02a0 0120     		movs	r0, #1
 616              	.LVL50:
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 617              		.loc 1 337 58 view .LVU234
 618 02a2 B7E6     		b	.L4
 619              		.cfi_endproc
 620              	.LFE71:
 622              		.section	.text.USBH_MSC_ClassRequest,"ax",%progbits
 623              		.align	1
 624              		.syntax unified
 625              		.thumb
 626              		.thumb_func
 627              		.fpu softvfp
 629              	USBH_MSC_ClassRequest:
 630              	.LVL51:
 631              	.LFB70:
 266:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 632              		.loc 1 266 1 is_stmt 1 view -0
 633              		.cfi_startproc
 634              		@ args = 0, pretend = 0, frame = 0
 635              		@ frame_needed = 0, uses_anonymous_args = 0
 266:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 636              		.loc 1 266 1 is_stmt 0 view .LVU236
 637 0000 38B5     		push	{r3, r4, r5, lr}
 638              	.LCFI1:
 639              		.cfi_def_cfa_offset 16
 640              		.cfi_offset 3, -16
 641              		.cfi_offset 4, -12
 642              		.cfi_offset 5, -8
 643              		.cfi_offset 14, -4
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 644              		.loc 1 267 3 is_stmt 1 view .LVU237
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 645              		.loc 1 267 62 is_stmt 0 view .LVU238
 646 0002 D0F87833 		ldr	r3, [r0, #888]
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 647              		.loc 1 267 22 view .LVU239
 648 0006 DC69     		ldr	r4, [r3, #28]
 649              	.LVL52:
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 650              		.loc 1 268 3 is_stmt 1 view .LVU240
 269:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 651              		.loc 1 269 3 view .LVU241
 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 652              		.loc 1 272 3 view .LVU242
 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 653              		.loc 1 272 21 is_stmt 0 view .LVU243
 654 0008 A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
ARM GAS  /tmp/cclRUp6d.s 			page 26


 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 655              		.loc 1 272 3 view .LVU244
 656 000a 022B     		cmp	r3, #2
 657 000c 04D0     		beq	.L43
 658 000e 032B     		cmp	r3, #3
 659 0010 22D0     		beq	.L44
 660 0012 0BB1     		cbz	r3, .L43
 661 0014 0120     		movs	r0, #1
 662              	.LVL53:
 663              	.L45:
 312:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 664              		.loc 1 312 3 is_stmt 1 view .LVU245
 313:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 665              		.loc 1 313 1 is_stmt 0 view .LVU246
 666 0016 38BD     		pop	{r3, r4, r5, pc}
 667              	.LVL54:
 668              	.L43:
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 669              		.loc 1 277 7 is_stmt 1 view .LVU247
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 670              		.loc 1 277 16 is_stmt 0 view .LVU248
 671 0018 2146     		mov	r1, r4
 672 001a FFF7FEFF 		bl	USBH_MSC_BOT_REQ_GetMaxLUN
 673              	.LVL55:
 281:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 674              		.loc 1 281 7 is_stmt 1 view .LVU249
 281:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 675              		.loc 1 281 10 is_stmt 0 view .LVU250
 676 001e 0328     		cmp	r0, #3
 677 0020 02D0     		beq	.L55
 287:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 678              		.loc 1 287 7 is_stmt 1 view .LVU251
 287:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 679              		.loc 1 287 10 is_stmt 0 view .LVU252
 680 0022 0028     		cmp	r0, #0
 681 0024 F7D1     		bne	.L45
 682 0026 01E0     		b	.L47
 683              	.L55:
 283:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         status = USBH_OK;
 684              		.loc 1 283 9 is_stmt 1 view .LVU253
 283:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         status = USBH_OK;
 685              		.loc 1 283 29 is_stmt 0 view .LVU254
 686 0028 0020     		movs	r0, #0
 687              	.LVL56:
 283:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         status = USBH_OK;
 688              		.loc 1 283 29 view .LVU255
 689 002a 2060     		str	r0, [r4]
 284:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 690              		.loc 1 284 9 is_stmt 1 view .LVU256
 691              	.LVL57:
 287:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 692              		.loc 1 287 7 view .LVU257
 693              	.L47:
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %lu", MSC_Handle->max_lun);
 694              		.loc 1 289 9 view .LVU258
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %lu", MSC_Handle->max_lun);
 695              		.loc 1 289 53 is_stmt 0 view .LVU259
ARM GAS  /tmp/cclRUp6d.s 			page 27


 696 002c 2578     		ldrb	r5, [r4]	@ zero_extendqisi2
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %lu", MSC_Handle->max_lun);
 697              		.loc 1 289 103 view .LVU260
 698 002e 022D     		cmp	r5, #2
 699 0030 10D8     		bhi	.L52
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %lu", MSC_Handle->max_lun);
 700              		.loc 1 289 103 discriminator 1 view .LVU261
 701 0032 0135     		adds	r5, r5, #1
 702              	.L48:
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %lu", MSC_Handle->max_lun);
 703              		.loc 1 289 29 discriminator 4 view .LVU262
 704 0034 2560     		str	r5, [r4]
 290:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 705              		.loc 1 290 9 is_stmt 1 discriminator 4 view .LVU263
 290:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 706              		.loc 1 290 9 discriminator 4 view .LVU264
 290:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 707              		.loc 1 290 9 discriminator 4 view .LVU265
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 708              		.loc 1 292 9 discriminator 4 view .LVU266
 709              	.LVL58:
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 710              		.loc 1 292 16 is_stmt 0 discriminator 4 view .LVU267
 711 0036 0023     		movs	r3, #0
 712              	.LVL59:
 713              	.L49:
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 714              		.loc 1 292 22 is_stmt 1 discriminator 1 view .LVU268
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 715              		.loc 1 292 9 is_stmt 0 discriminator 1 view .LVU269
 716 0038 AB42     		cmp	r3, r5
 717 003a ECD2     		bcs	.L45
 294:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 718              		.loc 1 294 11 is_stmt 1 discriminator 3 view .LVU270
 294:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 719              		.loc 1 294 48 is_stmt 0 discriminator 3 view .LVU271
 720 003c 3422     		movs	r2, #52
 721 003e 02FB0342 		mla	r2, r2, r3, r4
 722 0042 0221     		movs	r1, #2
 723 0044 82F89210 		strb	r1, [r2, #146]
 295:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 724              		.loc 1 295 11 is_stmt 1 discriminator 3 view .LVU272
 295:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 725              		.loc 1 295 45 is_stmt 0 discriminator 3 view .LVU273
 726 0048 0021     		movs	r1, #0
 727 004a 82F8C110 		strb	r1, [r2, #193]
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 728              		.loc 1 292 47 is_stmt 1 discriminator 3 view .LVU274
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 729              		.loc 1 292 48 is_stmt 0 discriminator 3 view .LVU275
 730 004e 0133     		adds	r3, r3, #1
 731              	.LVL60:
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 732              		.loc 1 292 48 discriminator 3 view .LVU276
 733 0050 DBB2     		uxtb	r3, r3
 734              	.LVL61:
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
ARM GAS  /tmp/cclRUp6d.s 			page 28


 735              		.loc 1 292 48 discriminator 3 view .LVU277
 736 0052 F1E7     		b	.L49
 737              	.LVL62:
 738              	.L52:
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %lu", MSC_Handle->max_lun);
 739              		.loc 1 289 103 view .LVU278
 740 0054 0225     		movs	r5, #2
 741 0056 EDE7     		b	.L48
 742              	.LVL63:
 743              	.L44:
 302:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 744              		.loc 1 302 7 is_stmt 1 view .LVU279
 302:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 745              		.loc 1 302 11 is_stmt 0 view .LVU280
 746 0058 0021     		movs	r1, #0
 747 005a FFF7FEFF 		bl	USBH_ClrFeature
 748              	.LVL64:
 302:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 749              		.loc 1 302 10 view .LVU281
 750 005e 18B9     		cbnz	r0, .L53
 304:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 751              		.loc 1 304 9 is_stmt 1 view .LVU282
 304:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 752              		.loc 1 304 43 is_stmt 0 view .LVU283
 753 0060 E37B     		ldrb	r3, [r4, #15]	@ zero_extendqisi2
 304:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 754              		.loc 1 304 31 view .LVU284
 755 0062 A373     		strb	r3, [r4, #14]
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 756              		.loc 1 268 22 view .LVU285
 757 0064 0120     		movs	r0, #1
 758 0066 D6E7     		b	.L45
 759              	.L53:
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 760              		.loc 1 268 22 view .LVU286
 761 0068 0120     		movs	r0, #1
 762 006a D4E7     		b	.L45
 763              		.cfi_endproc
 764              	.LFE70:
 766              		.section	.text.USBH_MSC_InterfaceDeInit,"ax",%progbits
 767              		.align	1
 768              		.syntax unified
 769              		.thumb
 770              		.thumb_func
 771              		.fpu softvfp
 773              	USBH_MSC_InterfaceDeInit:
 774              	.LVL65:
 775              	.LFB69:
 232:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 776              		.loc 1 232 1 is_stmt 1 view -0
 777              		.cfi_startproc
 778              		@ args = 0, pretend = 0, frame = 0
 779              		@ frame_needed = 0, uses_anonymous_args = 0
 232:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 780              		.loc 1 232 1 is_stmt 0 view .LVU288
 781 0000 38B5     		push	{r3, r4, r5, lr}
 782              	.LCFI2:
ARM GAS  /tmp/cclRUp6d.s 			page 29


 783              		.cfi_def_cfa_offset 16
 784              		.cfi_offset 3, -16
 785              		.cfi_offset 4, -12
 786              		.cfi_offset 5, -8
 787              		.cfi_offset 14, -4
 788 0002 0446     		mov	r4, r0
 233:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 789              		.loc 1 233 3 is_stmt 1 view .LVU289
 233:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 790              		.loc 1 233 62 is_stmt 0 view .LVU290
 791 0004 D0F87833 		ldr	r3, [r0, #888]
 233:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 792              		.loc 1 233 22 view .LVU291
 793 0008 DD69     		ldr	r5, [r3, #28]
 794              	.LVL66:
 235:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 795              		.loc 1 235 3 is_stmt 1 view .LVU292
 235:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 796              		.loc 1 235 17 is_stmt 0 view .LVU293
 797 000a 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 235:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 798              		.loc 1 235 6 view .LVU294
 799 000c 69B9     		cbnz	r1, .L61
 800              	.LVL67:
 801              	.L57:
 242:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 802              		.loc 1 242 3 is_stmt 1 view .LVU295
 242:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 803              		.loc 1 242 17 is_stmt 0 view .LVU296
 804 000e 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 242:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 805              		.loc 1 242 6 view .LVU297
 806 0010 A1B9     		cbnz	r1, .L62
 807              	.L58:
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 808              		.loc 1 249 3 is_stmt 1 view .LVU298
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 809              		.loc 1 249 12 is_stmt 0 view .LVU299
 810 0012 D4F87833 		ldr	r3, [r4, #888]
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 811              		.loc 1 249 26 view .LVU300
 812 0016 D869     		ldr	r0, [r3, #28]
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 813              		.loc 1 249 6 view .LVU301
 814 0018 28B1     		cbz	r0, .L59
 251:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     phost->pActiveClass->pData = 0U;
 815              		.loc 1 251 5 is_stmt 1 view .LVU302
 816 001a FFF7FEFF 		bl	free
 817              	.LVL68:
 252:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 818              		.loc 1 252 5 view .LVU303
 252:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 819              		.loc 1 252 10 is_stmt 0 view .LVU304
 820 001e D4F87833 		ldr	r3, [r4, #888]
 252:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 821              		.loc 1 252 32 view .LVU305
 822 0022 0022     		movs	r2, #0
ARM GAS  /tmp/cclRUp6d.s 			page 30


 823 0024 DA61     		str	r2, [r3, #28]
 824              	.L59:
 255:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 825              		.loc 1 255 3 is_stmt 1 view .LVU306
 256:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 826              		.loc 1 256 1 is_stmt 0 view .LVU307
 827 0026 0020     		movs	r0, #0
 828 0028 38BD     		pop	{r3, r4, r5, pc}
 829              	.LVL69:
 830              	.L61:
 237:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe(phost, MSC_Handle->OutPipe);
 831              		.loc 1 237 5 is_stmt 1 view .LVU308
 832 002a FFF7FEFF 		bl	USBH_ClosePipe
 833              	.LVL70:
 238:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = 0U;     /* Reset the Channel as Free */
 834              		.loc 1 238 5 view .LVU309
 835 002e 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 836 0030 2046     		mov	r0, r4
 837 0032 FFF7FEFF 		bl	USBH_FreePipe
 838              	.LVL71:
 239:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 839              		.loc 1 239 5 view .LVU310
 239:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 840              		.loc 1 239 25 is_stmt 0 view .LVU311
 841 0036 0023     		movs	r3, #0
 842 0038 6B71     		strb	r3, [r5, #5]
 843 003a E8E7     		b	.L57
 844              	.L62:
 244:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe(phost, MSC_Handle->InPipe);
 845              		.loc 1 244 5 is_stmt 1 view .LVU312
 846 003c 2046     		mov	r0, r4
 847 003e FFF7FEFF 		bl	USBH_ClosePipe
 848              	.LVL72:
 245:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = 0U;     /* Reset the Channel as Free */
 849              		.loc 1 245 5 view .LVU313
 850 0042 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 851 0044 2046     		mov	r0, r4
 852 0046 FFF7FEFF 		bl	USBH_FreePipe
 853              	.LVL73:
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 854              		.loc 1 246 5 view .LVU314
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 855              		.loc 1 246 24 is_stmt 0 view .LVU315
 856 004a 0023     		movs	r3, #0
 857 004c 2B71     		strb	r3, [r5, #4]
 858 004e E0E7     		b	.L58
 859              		.cfi_endproc
 860              	.LFE69:
 862              		.section	.text.USBH_MSC_InterfaceInit,"ax",%progbits
 863              		.align	1
 864              		.syntax unified
 865              		.thumb
 866              		.thumb_func
 867              		.fpu softvfp
 869              	USBH_MSC_InterfaceInit:
 870              	.LVL74:
 871              	.LFB68:
ARM GAS  /tmp/cclRUp6d.s 			page 31


 148:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status;
 872              		.loc 1 148 1 is_stmt 1 view -0
 873              		.cfi_startproc
 874              		@ args = 0, pretend = 0, frame = 0
 875              		@ frame_needed = 0, uses_anonymous_args = 0
 148:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status;
 876              		.loc 1 148 1 is_stmt 0 view .LVU317
 877 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 878              	.LCFI3:
 879              		.cfi_def_cfa_offset 24
 880              		.cfi_offset 4, -24
 881              		.cfi_offset 5, -20
 882              		.cfi_offset 6, -16
 883              		.cfi_offset 7, -12
 884              		.cfi_offset 8, -8
 885              		.cfi_offset 14, -4
 886 0004 84B0     		sub	sp, sp, #16
 887              	.LCFI4:
 888              		.cfi_def_cfa_offset 40
 889 0006 0446     		mov	r4, r0
 149:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t interface;
 890              		.loc 1 149 3 is_stmt 1 view .LVU318
 150:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle;
 891              		.loc 1 150 3 view .LVU319
 151:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 892              		.loc 1 151 3 view .LVU320
 153:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 893              		.loc 1 153 3 view .LVU321
 153:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 894              		.loc 1 153 46 is_stmt 0 view .LVU322
 895 0008 D0F87813 		ldr	r1, [r0, #888]
 153:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 896              		.loc 1 153 15 view .LVU323
 897 000c 5023     		movs	r3, #80
 898 000e 0622     		movs	r2, #6
 899 0010 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 900 0012 FFF7FEFF 		bl	USBH_FindInterface
 901              	.LVL75:
 155:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 902              		.loc 1 155 3 is_stmt 1 view .LVU324
 155:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 903              		.loc 1 155 6 is_stmt 0 view .LVU325
 904 0016 0128     		cmp	r0, #1
 905 0018 00F28580 		bhi	.L69
 906 001c 0646     		mov	r6, r0
 161:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 907              		.loc 1 161 3 is_stmt 1 view .LVU326
 161:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 908              		.loc 1 161 12 is_stmt 0 view .LVU327
 909 001e 0146     		mov	r1, r0
 910 0020 2046     		mov	r0, r4
 911              	.LVL76:
 161:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 912              		.loc 1 161 12 view .LVU328
 913 0022 FFF7FEFF 		bl	USBH_SelectInterface
 914              	.LVL77:
 163:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
ARM GAS  /tmp/cclRUp6d.s 			page 32


 915              		.loc 1 163 3 is_stmt 1 view .LVU329
 163:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 916              		.loc 1 163 6 is_stmt 0 view .LVU330
 917 0026 0746     		mov	r7, r0
 918 0028 0028     		cmp	r0, #0
 919 002a 40F08180 		bne	.L70
 168:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 920              		.loc 1 168 3 is_stmt 1 view .LVU331
 168:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 921              		.loc 1 168 8 is_stmt 0 view .LVU332
 922 002e D4F87853 		ldr	r5, [r4, #888]
 168:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 923              		.loc 1 168 53 view .LVU333
 924 0032 4FF48070 		mov	r0, #256
 925              	.LVL78:
 168:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 926              		.loc 1 168 53 view .LVU334
 927 0036 FFF7FEFF 		bl	malloc
 928              	.LVL79:
 168:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 929              		.loc 1 168 30 view .LVU335
 930 003a E861     		str	r0, [r5, #28]
 169:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 931              		.loc 1 169 3 is_stmt 1 view .LVU336
 169:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 932              		.loc 1 169 43 is_stmt 0 view .LVU337
 933 003c D4F87833 		ldr	r3, [r4, #888]
 169:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 934              		.loc 1 169 14 view .LVU338
 935 0040 DD69     		ldr	r5, [r3, #28]
 936              	.LVL80:
 171:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 937              		.loc 1 171 3 is_stmt 1 view .LVU339
 171:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 938              		.loc 1 171 6 is_stmt 0 view .LVU340
 939 0042 002D     		cmp	r5, #0
 940 0044 76D0     		beq	.L71
 178:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 941              		.loc 1 178 3 is_stmt 1 view .LVU341
 942 0046 4FF48072 		mov	r2, #256
 943 004a 0021     		movs	r1, #0
 944 004c 2846     		mov	r0, r5
 945 004e FFF7FEFF 		bl	memset
 946              	.LVL81:
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 947              		.loc 1 180 3 view .LVU342
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 948              		.loc 1 180 59 is_stmt 0 view .LVU343
 949 0052 1A23     		movs	r3, #26
 950 0054 03FB0643 		mla	r3, r3, r6, r4
 951 0058 93F84C23 		ldrb	r2, [r3, #844]	@ zero_extendqisi2
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 952              		.loc 1 180 7 view .LVU344
 953 005c 93F94C33 		ldrsb	r3, [r3, #844]
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 954              		.loc 1 180 6 view .LVU345
 955 0060 002B     		cmp	r3, #0
ARM GAS  /tmp/cclRUp6d.s 			page 33


 956 0062 50DB     		blt	.L73
 187:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 957              		.loc 1 187 5 is_stmt 1 view .LVU346
 187:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 958              		.loc 1 187 23 is_stmt 0 view .LVU347
 959 0064 AA71     		strb	r2, [r5, #6]
 188:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 960              		.loc 1 188 5 is_stmt 1 view .LVU348
 188:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 961              		.loc 1 188 81 is_stmt 0 view .LVU349
 962 0066 1A23     		movs	r3, #26
 963 0068 03FB0643 		mla	r3, r3, r6, r4
 964 006c B3F84E33 		ldrh	r3, [r3, #846]
 188:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 965              		.loc 1 188 27 view .LVU350
 966 0070 2B81     		strh	r3, [r5, #8]	@ movhi
 967              	.L66:
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 968              		.loc 1 191 3 is_stmt 1 view .LVU351
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 969              		.loc 1 191 59 is_stmt 0 view .LVU352
 970 0072 1A23     		movs	r3, #26
 971 0074 03FB0643 		mla	r3, r3, r6, r4
 972 0078 93F85423 		ldrb	r2, [r3, #852]	@ zero_extendqisi2
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 973              		.loc 1 191 7 view .LVU353
 974 007c 93F95433 		ldrsb	r3, [r3, #852]
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 975              		.loc 1 191 6 view .LVU354
 976 0080 002B     		cmp	r3, #0
 977 0082 48DB     		blt	.L74
 198:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 978              		.loc 1 198 5 is_stmt 1 view .LVU355
 198:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 979              		.loc 1 198 23 is_stmt 0 view .LVU356
 980 0084 AA71     		strb	r2, [r5, #6]
 199:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 981              		.loc 1 199 5 is_stmt 1 view .LVU357
 199:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 982              		.loc 1 199 81 is_stmt 0 view .LVU358
 983 0086 1A20     		movs	r0, #26
 984 0088 00FB0646 		mla	r6, r0, r6, r4
 985 008c B6F85633 		ldrh	r3, [r6, #854]
 199:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 986              		.loc 1 199 27 view .LVU359
 987 0090 2B81     		strh	r3, [r5, #8]	@ movhi
 988              	.L68:
 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->error = MSC_OK;
 989              		.loc 1 202 3 is_stmt 1 view .LVU360
 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->error = MSC_OK;
 990              		.loc 1 202 21 is_stmt 0 view .LVU361
 991 0092 0026     		movs	r6, #0
 992 0094 2E73     		strb	r6, [r5, #12]
 203:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->req_state = MSC_REQ_IDLE;
 993              		.loc 1 203 3 is_stmt 1 view .LVU362
 203:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->req_state = MSC_REQ_IDLE;
 994              		.loc 1 203 21 is_stmt 0 view .LVU363
ARM GAS  /tmp/cclRUp6d.s 			page 34


 995 0096 6E73     		strb	r6, [r5, #13]
 204:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 996              		.loc 1 204 3 is_stmt 1 view .LVU364
 204:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 997              		.loc 1 204 25 is_stmt 0 view .LVU365
 998 0098 AE73     		strb	r6, [r5, #14]
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 999              		.loc 1 205 3 is_stmt 1 view .LVU366
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 1000              		.loc 1 205 25 is_stmt 0 view .LVU367
 1001 009a A979     		ldrb	r1, [r5, #6]	@ zero_extendqisi2
 1002 009c 2046     		mov	r0, r4
 1003 009e FFF7FEFF 		bl	USBH_AllocPipe
 1004              	.LVL82:
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 1005              		.loc 1 205 23 view .LVU368
 1006 00a2 6871     		strb	r0, [r5, #5]
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1007              		.loc 1 206 3 is_stmt 1 view .LVU369
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1008              		.loc 1 206 24 is_stmt 0 view .LVU370
 1009 00a4 E979     		ldrb	r1, [r5, #7]	@ zero_extendqisi2
 1010 00a6 2046     		mov	r0, r4
 1011 00a8 FFF7FEFF 		bl	USBH_AllocPipe
 1012              	.LVL83:
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1013              		.loc 1 206 22 view .LVU371
 1014 00ac 2871     		strb	r0, [r5, #4]
 208:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1015              		.loc 1 208 3 is_stmt 1 view .LVU372
 1016 00ae 2046     		mov	r0, r4
 1017 00b0 FFF7FEFF 		bl	USBH_MSC_BOT_Init
 1018              	.LVL84:
 211:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed,
 1019              		.loc 1 211 3 view .LVU373
 1020 00b4 AA79     		ldrb	r2, [r5, #6]	@ zero_extendqisi2
 1021 00b6 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 1022 00b8 2B89     		ldrh	r3, [r5, #8]
 1023 00ba 0293     		str	r3, [sp, #8]
 1024 00bc 4FF00208 		mov	r8, #2
 1025 00c0 CDF80480 		str	r8, [sp, #4]
 1026 00c4 94F81D33 		ldrb	r3, [r4, #797]	@ zero_extendqisi2
 1027 00c8 0093     		str	r3, [sp]
 1028 00ca 94F81C33 		ldrb	r3, [r4, #796]	@ zero_extendqisi2
 1029 00ce 2046     		mov	r0, r4
 1030 00d0 FFF7FEFF 		bl	USBH_OpenPipe
 1031              	.LVL85:
 215:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed, USB_EP_TYPE_BULK,
 1032              		.loc 1 215 3 view .LVU374
 1033 00d4 EA79     		ldrb	r2, [r5, #7]	@ zero_extendqisi2
 1034 00d6 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 1035 00d8 6B89     		ldrh	r3, [r5, #10]
 1036 00da 0293     		str	r3, [sp, #8]
 1037 00dc CDF80480 		str	r8, [sp, #4]
 1038 00e0 94F81D33 		ldrb	r3, [r4, #797]	@ zero_extendqisi2
 1039 00e4 0093     		str	r3, [sp]
 1040 00e6 94F81C33 		ldrb	r3, [r4, #796]	@ zero_extendqisi2
ARM GAS  /tmp/cclRUp6d.s 			page 35


 1041 00ea 2046     		mov	r0, r4
 1042 00ec FFF7FEFF 		bl	USBH_OpenPipe
 1043              	.LVL86:
 219:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_LL_SetToggle(phost, MSC_Handle->OutPipe, 0U);
 1044              		.loc 1 219 3 view .LVU375
 1045 00f0 3246     		mov	r2, r6
 1046 00f2 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 1047 00f4 2046     		mov	r0, r4
 1048 00f6 FFF7FEFF 		bl	USBH_LL_SetToggle
 1049              	.LVL87:
 220:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1050              		.loc 1 220 3 view .LVU376
 1051 00fa 3246     		mov	r2, r6
 1052 00fc 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 1053 00fe 2046     		mov	r0, r4
 1054 0100 FFF7FEFF 		bl	USBH_LL_SetToggle
 1055              	.LVL88:
 222:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1056              		.loc 1 222 3 view .LVU377
 222:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1057              		.loc 1 222 10 is_stmt 0 view .LVU378
 1058 0104 10E0     		b	.L64
 1059              	.L73:
 182:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 1060              		.loc 1 182 5 is_stmt 1 view .LVU379
 182:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 1061              		.loc 1 182 22 is_stmt 0 view .LVU380
 1062 0106 EA71     		strb	r2, [r5, #7]
 183:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1063              		.loc 1 183 5 is_stmt 1 view .LVU381
 183:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1064              		.loc 1 183 80 is_stmt 0 view .LVU382
 1065 0108 1A23     		movs	r3, #26
 1066 010a 03FB0643 		mla	r3, r3, r6, r4
 1067 010e B3F84E33 		ldrh	r3, [r3, #846]
 183:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1068              		.loc 1 183 26 view .LVU383
 1069 0112 6B81     		strh	r3, [r5, #10]	@ movhi
 1070 0114 ADE7     		b	.L66
 1071              	.L74:
 193:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 1072              		.loc 1 193 5 is_stmt 1 view .LVU384
 193:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 1073              		.loc 1 193 22 is_stmt 0 view .LVU385
 1074 0116 EA71     		strb	r2, [r5, #7]
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1075              		.loc 1 194 5 is_stmt 1 view .LVU386
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1076              		.loc 1 194 80 is_stmt 0 view .LVU387
 1077 0118 1A20     		movs	r0, #26
 1078 011a 00FB0646 		mla	r6, r0, r6, r4
 1079 011e B6F85633 		ldrh	r3, [r6, #854]
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1080              		.loc 1 194 26 view .LVU388
 1081 0122 6B81     		strh	r3, [r5, #10]	@ movhi
 1082 0124 B5E7     		b	.L68
 1083              	.LVL89:
ARM GAS  /tmp/cclRUp6d.s 			page 36


 1084              	.L69:
 158:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1085              		.loc 1 158 12 view .LVU389
 1086 0126 0227     		movs	r7, #2
 1087              	.LVL90:
 1088              	.L64:
 223:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1089              		.loc 1 223 1 view .LVU390
 1090 0128 3846     		mov	r0, r7
 1091 012a 04B0     		add	sp, sp, #16
 1092              	.LCFI5:
 1093              		.cfi_remember_state
 1094              		.cfi_def_cfa_offset 24
 1095              		@ sp needed
 1096 012c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1097              	.LVL91:
 1098              	.L70:
 1099              	.LCFI6:
 1100              		.cfi_restore_state
 165:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1101              		.loc 1 165 12 view .LVU391
 1102 0130 0227     		movs	r7, #2
 1103 0132 F9E7     		b	.L64
 1104              	.LVL92:
 1105              	.L71:
 174:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1106              		.loc 1 174 12 view .LVU392
 1107 0134 0227     		movs	r7, #2
 1108 0136 F7E7     		b	.L64
 1109              		.cfi_endproc
 1110              	.LFE68:
 1112              		.section	.text.USBH_MSC_RdWrProcess,"ax",%progbits
 1113              		.align	1
 1114              		.syntax unified
 1115              		.thumb
 1116              		.thumb_func
 1117              		.fpu softvfp
 1119              	USBH_MSC_RdWrProcess:
 1120              	.LVL93:
 1121              	.LFB73:
 538:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 539:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_RdWrProcess
 540:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for managing state machine for MSC I/O Process
 541:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 542:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 543:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 544:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 545:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_RdWrProcess(USBH_HandleTypeDef *phost, uint8_t lun)
 546:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1122              		.loc 1 546 1 is_stmt 1 view -0
 1123              		.cfi_startproc
 1124              		@ args = 0, pretend = 0, frame = 0
 1125              		@ frame_needed = 0, uses_anonymous_args = 0
 1126              		.loc 1 546 1 is_stmt 0 view .LVU394
 1127 0000 30B5     		push	{r4, r5, lr}
 1128              	.LCFI7:
 1129              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/cclRUp6d.s 			page 37


 1130              		.cfi_offset 4, -12
 1131              		.cfi_offset 5, -8
 1132              		.cfi_offset 14, -4
 1133 0002 83B0     		sub	sp, sp, #12
 1134              	.LCFI8:
 1135              		.cfi_def_cfa_offset 24
 1136 0004 0C46     		mov	r4, r1
 547:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1137              		.loc 1 547 3 is_stmt 1 view .LVU395
 1138              		.loc 1 547 62 is_stmt 0 view .LVU396
 1139 0006 D0F87833 		ldr	r3, [r0, #888]
 1140              		.loc 1 547 22 view .LVU397
 1141 000a DD69     		ldr	r5, [r3, #28]
 1142              	.LVL94:
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY ;
 1143              		.loc 1 548 3 is_stmt 1 view .LVU398
 549:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1144              		.loc 1 549 3 view .LVU399
 550:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 551:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Switch MSC REQ state machine */
 552:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->unit[lun].state)
 1145              		.loc 1 552 3 view .LVU400
 1146              		.loc 1 552 32 is_stmt 0 view .LVU401
 1147 000c 3423     		movs	r3, #52
 1148 000e 03FB0153 		mla	r3, r3, r1, r5
 1149 0012 93F89030 		ldrb	r3, [r3, #144]	@ zero_extendqisi2
 1150              		.loc 1 552 3 view .LVU402
 1151 0016 062B     		cmp	r3, #6
 1152 0018 06D0     		beq	.L76
 1153 001a 072B     		cmp	r3, #7
 1154 001c 27D0     		beq	.L77
 1155 001e 052B     		cmp	r3, #5
 1156 0020 48D0     		beq	.L78
 1157 0022 0120     		movs	r0, #1
 1158              	.LVL95:
 1159              	.L79:
 553:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 554:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 555:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_READ:
 556:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       scsi_status = USBH_MSC_SCSI_Read(phost, lun, 0U, NULL, 0U);
 557:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 558:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (scsi_status == USBH_OK)
 559:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 560:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 561:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 562:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else if (scsi_status == USBH_FAIL)
 564:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 565:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_REQUEST_SENSE;
 566:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 567:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else
 568:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 569:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (scsi_status == USBH_UNRECOVERED_ERROR)
 570:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 571:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 572:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 573:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
ARM GAS  /tmp/cclRUp6d.s 			page 38


 574:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 575:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 576:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 577:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 578:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 579:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 580:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 581:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 582:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 583:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 584:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 585:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 586:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_WRITE:
 587:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       scsi_status = USBH_MSC_SCSI_Write(phost, lun, 0U, NULL, 0U);
 588:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 589:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (scsi_status == USBH_OK)
 590:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 591:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 592:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 593:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 594:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else if (scsi_status == USBH_FAIL)
 595:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 596:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_REQUEST_SENSE;
 597:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 598:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else
 599:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 600:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (scsi_status == USBH_UNRECOVERED_ERROR)
 601:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 602:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 603:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 604:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 605:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 606:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 607:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 608:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 609:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 610:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 611:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 612:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 613:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 614:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 615:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 616:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 617:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_REQUEST_SENSE:
 618:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       scsi_status = USBH_MSC_SCSI_RequestSense(phost, lun, &MSC_Handle->unit[lun].sense);
 619:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 620:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (scsi_status == USBH_OK)
 621:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 622:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Sense Key  : %x", MSC_Handle->unit[lun].sense.key);
 623:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 624:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 625:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 626:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].error = MSC_ERROR;
 627:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 628:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 629:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 630:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (scsi_status == USBH_FAIL)
ARM GAS  /tmp/cclRUp6d.s 			page 39


 631:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 632:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("MSC Device NOT ready");
 633:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 634:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else
 635:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 636:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (scsi_status == USBH_UNRECOVERED_ERROR)
 637:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 638:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 639:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 640:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 641:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 642:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 643:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 644:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 645:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 646:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 647:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 648:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 649:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 650:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 651:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 652:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 653:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     default:
 654:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 655:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 656:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 657:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return error;
 1160              		.loc 1 657 3 is_stmt 1 view .LVU403
 658:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1161              		.loc 1 658 1 is_stmt 0 view .LVU404
 1162 0024 03B0     		add	sp, sp, #12
 1163              	.LCFI9:
 1164              		.cfi_remember_state
 1165              		.cfi_def_cfa_offset 12
 1166              		@ sp needed
 1167 0026 30BD     		pop	{r4, r5, pc}
 1168              	.LVL96:
 1169              	.L76:
 1170              	.LCFI10:
 1171              		.cfi_restore_state
 556:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1172              		.loc 1 556 7 is_stmt 1 view .LVU405
 556:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1173              		.loc 1 556 21 is_stmt 0 view .LVU406
 1174 0028 0022     		movs	r2, #0
 1175 002a 0092     		str	r2, [sp]
 1176 002c 1346     		mov	r3, r2
 1177 002e FFF7FEFF 		bl	USBH_MSC_SCSI_Read
 1178              	.LVL97:
 558:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1179              		.loc 1 558 7 is_stmt 1 view .LVU407
 558:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1180              		.loc 1 558 10 is_stmt 0 view .LVU408
 1181 0032 30B9     		cbnz	r0, .L80
 560:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 1182              		.loc 1 560 9 is_stmt 1 view .LVU409
 560:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
ARM GAS  /tmp/cclRUp6d.s 			page 40


 1183              		.loc 1 560 37 is_stmt 0 view .LVU410
 1184 0034 3421     		movs	r1, #52
 1185 0036 01FB0454 		mla	r4, r1, r4, r5
 1186 003a 0123     		movs	r3, #1
 1187 003c 84F89030 		strb	r3, [r4, #144]
 561:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1188              		.loc 1 561 9 is_stmt 1 view .LVU411
 1189              	.LVL98:
 561:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1190              		.loc 1 561 9 is_stmt 0 view .LVU412
 1191 0040 F0E7     		b	.L79
 1192              	.LVL99:
 1193              	.L80:
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1194              		.loc 1 563 12 is_stmt 1 view .LVU413
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1195              		.loc 1 563 15 is_stmt 0 view .LVU414
 1196 0042 0228     		cmp	r0, #2
 1197 0044 03D0     		beq	.L89
 569:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1198              		.loc 1 569 9 is_stmt 1 view .LVU415
 569:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1199              		.loc 1 569 12 is_stmt 0 view .LVU416
 1200 0046 0428     		cmp	r0, #4
 1201 0048 09D0     		beq	.L90
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1202              		.loc 1 548 22 view .LVU417
 1203 004a 0120     		movs	r0, #1
 1204              	.LVL100:
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1205              		.loc 1 548 22 view .LVU418
 1206 004c EAE7     		b	.L79
 1207              	.LVL101:
 1208              	.L89:
 565:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1209              		.loc 1 565 9 is_stmt 1 view .LVU419
 565:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1210              		.loc 1 565 37 is_stmt 0 view .LVU420
 1211 004e 3423     		movs	r3, #52
 1212 0050 03FB0454 		mla	r4, r3, r4, r5
 1213 0054 0523     		movs	r3, #5
 1214 0056 84F89030 		strb	r3, [r4, #144]
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1215              		.loc 1 548 22 view .LVU421
 1216 005a 0120     		movs	r0, #1
 1217              	.LVL102:
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1218              		.loc 1 548 22 view .LVU422
 1219 005c E2E7     		b	.L79
 1220              	.LVL103:
 1221              	.L90:
 571:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 1222              		.loc 1 571 11 is_stmt 1 view .LVU423
 571:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 1223              		.loc 1 571 39 is_stmt 0 view .LVU424
 1224 005e 3423     		movs	r3, #52
 1225 0060 03FB0454 		mla	r4, r3, r4, r5
ARM GAS  /tmp/cclRUp6d.s 			page 41


 1226 0064 0823     		movs	r3, #8
 1227 0066 84F89030 		strb	r3, [r4, #144]
 572:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1228              		.loc 1 572 11 is_stmt 1 view .LVU425
 1229              	.LVL104:
 572:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1230              		.loc 1 572 17 is_stmt 0 view .LVU426
 1231 006a 0220     		movs	r0, #2
 1232              	.LVL105:
 572:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1233              		.loc 1 572 17 view .LVU427
 1234 006c DAE7     		b	.L79
 1235              	.LVL106:
 1236              	.L77:
 587:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1237              		.loc 1 587 7 is_stmt 1 view .LVU428
 587:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1238              		.loc 1 587 21 is_stmt 0 view .LVU429
 1239 006e 0022     		movs	r2, #0
 1240 0070 0092     		str	r2, [sp]
 1241 0072 1346     		mov	r3, r2
 1242 0074 FFF7FEFF 		bl	USBH_MSC_SCSI_Write
 1243              	.LVL107:
 589:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1244              		.loc 1 589 7 is_stmt 1 view .LVU430
 589:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1245              		.loc 1 589 10 is_stmt 0 view .LVU431
 1246 0078 30B9     		cbnz	r0, .L82
 591:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 1247              		.loc 1 591 9 is_stmt 1 view .LVU432
 591:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 1248              		.loc 1 591 37 is_stmt 0 view .LVU433
 1249 007a 3421     		movs	r1, #52
 1250 007c 01FB0454 		mla	r4, r1, r4, r5
 1251 0080 0123     		movs	r3, #1
 1252 0082 84F89030 		strb	r3, [r4, #144]
 592:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1253              		.loc 1 592 9 is_stmt 1 view .LVU434
 1254              	.LVL108:
 592:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1255              		.loc 1 592 9 is_stmt 0 view .LVU435
 1256 0086 CDE7     		b	.L79
 1257              	.LVL109:
 1258              	.L82:
 594:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1259              		.loc 1 594 12 is_stmt 1 view .LVU436
 594:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1260              		.loc 1 594 15 is_stmt 0 view .LVU437
 1261 0088 0228     		cmp	r0, #2
 1262 008a 03D0     		beq	.L91
 600:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1263              		.loc 1 600 9 is_stmt 1 view .LVU438
 600:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1264              		.loc 1 600 12 is_stmt 0 view .LVU439
 1265 008c 0428     		cmp	r0, #4
 1266 008e 09D0     		beq	.L92
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
ARM GAS  /tmp/cclRUp6d.s 			page 42


 1267              		.loc 1 548 22 view .LVU440
 1268 0090 0120     		movs	r0, #1
 1269              	.LVL110:
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1270              		.loc 1 548 22 view .LVU441
 1271 0092 C7E7     		b	.L79
 1272              	.LVL111:
 1273              	.L91:
 596:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1274              		.loc 1 596 9 is_stmt 1 view .LVU442
 596:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1275              		.loc 1 596 37 is_stmt 0 view .LVU443
 1276 0094 3423     		movs	r3, #52
 1277 0096 03FB0454 		mla	r4, r3, r4, r5
 1278 009a 0523     		movs	r3, #5
 1279 009c 84F89030 		strb	r3, [r4, #144]
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1280              		.loc 1 548 22 view .LVU444
 1281 00a0 0120     		movs	r0, #1
 1282              	.LVL112:
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1283              		.loc 1 548 22 view .LVU445
 1284 00a2 BFE7     		b	.L79
 1285              	.LVL113:
 1286              	.L92:
 602:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 1287              		.loc 1 602 11 is_stmt 1 view .LVU446
 602:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 1288              		.loc 1 602 39 is_stmt 0 view .LVU447
 1289 00a4 3423     		movs	r3, #52
 1290 00a6 03FB0454 		mla	r4, r3, r4, r5
 1291 00aa 0823     		movs	r3, #8
 1292 00ac 84F89030 		strb	r3, [r4, #144]
 603:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1293              		.loc 1 603 11 is_stmt 1 view .LVU448
 1294              	.LVL114:
 603:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1295              		.loc 1 603 17 is_stmt 0 view .LVU449
 1296 00b0 0220     		movs	r0, #2
 1297              	.LVL115:
 603:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1298              		.loc 1 603 17 view .LVU450
 1299 00b2 B7E7     		b	.L79
 1300              	.LVL116:
 1301              	.L78:
 618:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1302              		.loc 1 618 7 is_stmt 1 view .LVU451
 618:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1303              		.loc 1 618 21 is_stmt 0 view .LVU452
 1304 00b4 3422     		movs	r2, #52
 1305 00b6 02FB01F2 		mul	r2, r2, r1
 1306 00ba 9832     		adds	r2, r2, #152
 1307 00bc 2A44     		add	r2, r2, r5
 1308 00be 0432     		adds	r2, r2, #4
 1309 00c0 FFF7FEFF 		bl	USBH_MSC_SCSI_RequestSense
 1310              	.LVL117:
 620:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
ARM GAS  /tmp/cclRUp6d.s 			page 43


 1311              		.loc 1 620 7 is_stmt 1 view .LVU453
 620:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1312              		.loc 1 620 10 is_stmt 0 view .LVU454
 1313 00c4 0346     		mov	r3, r0
 1314 00c6 A0B9     		cbnz	r0, .L87
 622:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 1315              		.loc 1 622 9 is_stmt 1 view .LVU455
 622:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 1316              		.loc 1 622 9 view .LVU456
 622:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 1317              		.loc 1 622 9 view .LVU457
 623:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 1318              		.loc 1 623 9 view .LVU458
 623:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 1319              		.loc 1 623 9 view .LVU459
 623:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 1320              		.loc 1 623 9 view .LVU460
 624:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 1321              		.loc 1 624 9 view .LVU461
 624:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 1322              		.loc 1 624 9 view .LVU462
 624:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 1323              		.loc 1 624 9 view .LVU463
 625:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].error = MSC_ERROR;
 1324              		.loc 1 625 9 view .LVU464
 625:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].error = MSC_ERROR;
 1325              		.loc 1 625 37 is_stmt 0 view .LVU465
 1326 00c8 3422     		movs	r2, #52
 1327 00ca 02FB0452 		mla	r2, r2, r4, r5
 1328 00ce 0121     		movs	r1, #1
 1329 00d0 82F89010 		strb	r1, [r2, #144]
 626:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1330              		.loc 1 626 9 is_stmt 1 view .LVU466
 626:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1331              		.loc 1 626 37 is_stmt 0 view .LVU467
 1332 00d4 0220     		movs	r0, #2
 1333              	.LVL118:
 626:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1334              		.loc 1 626 37 view .LVU468
 1335 00d6 82F89100 		strb	r0, [r2, #145]
 628:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1336              		.loc 1 628 9 is_stmt 1 view .LVU469
 1337              	.LVL119:
 1338              	.L84:
 630:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1339              		.loc 1 630 7 view .LVU470
 630:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1340              		.loc 1 630 10 is_stmt 0 view .LVU471
 1341 00da 022B     		cmp	r3, #2
 1342 00dc A2D0     		beq	.L79
 636:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1343              		.loc 1 636 9 is_stmt 1 view .LVU472
 636:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1344              		.loc 1 636 12 is_stmt 0 view .LVU473
 1345 00de 042B     		cmp	r3, #4
 1346 00e0 A0D1     		bne	.L79
 638:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
ARM GAS  /tmp/cclRUp6d.s 			page 44


 1347              		.loc 1 638 11 is_stmt 1 view .LVU474
 638:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 1348              		.loc 1 638 39 is_stmt 0 view .LVU475
 1349 00e2 3423     		movs	r3, #52
 1350 00e4 03FB0454 		mla	r4, r3, r4, r5
 1351 00e8 0823     		movs	r3, #8
 1352 00ea 84F89030 		strb	r3, [r4, #144]
 639:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1353              		.loc 1 639 11 is_stmt 1 view .LVU476
 1354              	.LVL120:
 639:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1355              		.loc 1 639 17 is_stmt 0 view .LVU477
 1356 00ee 0220     		movs	r0, #2
 1357 00f0 98E7     		b	.L79
 1358              	.LVL121:
 1359              	.L87:
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1360              		.loc 1 548 22 view .LVU478
 1361 00f2 0120     		movs	r0, #1
 1362              	.LVL122:
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1363              		.loc 1 548 22 view .LVU479
 1364 00f4 F1E7     		b	.L84
 1365              		.cfi_endproc
 1366              	.LFE73:
 1368              		.section	.text.USBH_MSC_IsReady,"ax",%progbits
 1369              		.align	1
 1370              		.global	USBH_MSC_IsReady
 1371              		.syntax unified
 1372              		.thumb
 1373              		.thumb_func
 1374              		.fpu softvfp
 1376              	USBH_MSC_IsReady:
 1377              	.LVL123:
 1378              	.LFB74:
 659:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 660:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 661:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_IsReady
 662:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function check if the MSC function is ready
 663:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 664:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 665:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 666:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_IsReady(USBH_HandleTypeDef *phost)
 667:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1379              		.loc 1 667 1 is_stmt 1 view -0
 1380              		.cfi_startproc
 1381              		@ args = 0, pretend = 0, frame = 0
 1382              		@ frame_needed = 0, uses_anonymous_args = 0
 1383              		@ link register save eliminated.
 668:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1384              		.loc 1 668 3 view .LVU481
 1385              		.loc 1 668 62 is_stmt 0 view .LVU482
 1386 0000 D0F87833 		ldr	r3, [r0, #888]
 1387              		.loc 1 668 22 view .LVU483
 1388 0004 DA69     		ldr	r2, [r3, #28]
 1389              	.LVL124:
 669:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t res;
ARM GAS  /tmp/cclRUp6d.s 			page 45


 1390              		.loc 1 669 3 is_stmt 1 view .LVU484
 670:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 671:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->state == MSC_IDLE))
 1391              		.loc 1 671 3 view .LVU485
 1392              		.loc 1 671 13 is_stmt 0 view .LVU486
 1393 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1394 0008 DBB2     		uxtb	r3, r3
 1395              		.loc 1 671 6 view .LVU487
 1396 000a 0B2B     		cmp	r3, #11
 1397 000c 01D0     		beq	.L96
 672:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 673:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 1U;
 674:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 675:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 676:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 677:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 0U;
 1398              		.loc 1 677 9 view .LVU488
 1399 000e 0020     		movs	r0, #0
 1400              	.LVL125:
 1401              	.L94:
 678:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 679:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 680:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return res;
 1402              		.loc 1 680 3 is_stmt 1 view .LVU489
 681:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1403              		.loc 1 681 1 is_stmt 0 view .LVU490
 1404 0010 7047     		bx	lr
 1405              	.LVL126:
 1406              	.L96:
 671:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1407              		.loc 1 671 51 discriminator 1 view .LVU491
 1408 0012 107B     		ldrb	r0, [r2, #12]	@ zero_extendqisi2
 1409              	.LVL127:
 671:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1410              		.loc 1 671 37 discriminator 1 view .LVU492
 1411 0014 0128     		cmp	r0, #1
 1412 0016 FBD0     		beq	.L94
 677:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1413              		.loc 1 677 9 view .LVU493
 1414 0018 0020     		movs	r0, #0
 1415 001a 7047     		bx	lr
 1416              		.cfi_endproc
 1417              	.LFE74:
 1419              		.section	.text.USBH_MSC_GetMaxLUN,"ax",%progbits
 1420              		.align	1
 1421              		.global	USBH_MSC_GetMaxLUN
 1422              		.syntax unified
 1423              		.thumb
 1424              		.thumb_func
 1425              		.fpu softvfp
 1427              	USBH_MSC_GetMaxLUN:
 1428              	.LVL128:
 1429              	.LFB75:
 682:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 683:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 684:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_GetMaxLUN
 685:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function return the Max LUN supported
ARM GAS  /tmp/cclRUp6d.s 			page 46


 686:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 687:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval logical Unit Number supported
 688:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 689:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_GetMaxLUN(USBH_HandleTypeDef *phost)
 690:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1430              		.loc 1 690 1 is_stmt 1 view -0
 1431              		.cfi_startproc
 1432              		@ args = 0, pretend = 0, frame = 0
 1433              		@ frame_needed = 0, uses_anonymous_args = 0
 1434              		@ link register save eliminated.
 691:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1435              		.loc 1 691 3 view .LVU495
 1436              		.loc 1 691 62 is_stmt 0 view .LVU496
 1437 0000 D0F87833 		ldr	r3, [r0, #888]
 1438              		.loc 1 691 22 view .LVU497
 1439 0004 DA69     		ldr	r2, [r3, #28]
 1440              	.LVL129:
 692:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 693:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->state == MSC_IDLE))
 1441              		.loc 1 693 3 is_stmt 1 view .LVU498
 1442              		.loc 1 693 13 is_stmt 0 view .LVU499
 1443 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1444 0008 DBB2     		uxtb	r3, r3
 1445              		.loc 1 693 6 view .LVU500
 1446 000a 0B2B     		cmp	r3, #11
 1447 000c 01D0     		beq	.L101
 694:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 695:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return (uint8_t)MSC_Handle->max_lun;
 696:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 697:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 698:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return 0xFFU;
 1448              		.loc 1 698 10 view .LVU501
 1449 000e FF20     		movs	r0, #255
 1450              	.LVL130:
 1451              		.loc 1 698 10 view .LVU502
 1452 0010 7047     		bx	lr
 1453              	.LVL131:
 1454              	.L101:
 693:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1455              		.loc 1 693 51 discriminator 1 view .LVU503
 1456 0012 137B     		ldrb	r3, [r2, #12]	@ zero_extendqisi2
 693:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1457              		.loc 1 693 37 discriminator 1 view .LVU504
 1458 0014 012B     		cmp	r3, #1
 1459 0016 01D0     		beq	.L102
 1460              		.loc 1 698 10 view .LVU505
 1461 0018 FF20     		movs	r0, #255
 1462              	.LVL132:
 699:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1463              		.loc 1 699 1 view .LVU506
 1464 001a 7047     		bx	lr
 1465              	.LVL133:
 1466              	.L102:
 695:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1467              		.loc 1 695 5 is_stmt 1 view .LVU507
 695:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1468              		.loc 1 695 12 is_stmt 0 view .LVU508
ARM GAS  /tmp/cclRUp6d.s 			page 47


 1469 001c 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 1470              	.LVL134:
 695:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1471              		.loc 1 695 12 view .LVU509
 1472 001e 7047     		bx	lr
 1473              		.cfi_endproc
 1474              	.LFE75:
 1476              		.section	.text.USBH_MSC_UnitIsReady,"ax",%progbits
 1477              		.align	1
 1478              		.global	USBH_MSC_UnitIsReady
 1479              		.syntax unified
 1480              		.thumb
 1481              		.thumb_func
 1482              		.fpu softvfp
 1484              	USBH_MSC_UnitIsReady:
 1485              	.LVL135:
 1486              	.LFB76:
 700:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 701:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 702:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_UnitIsReady
 703:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function check whether a LUN is ready
 704:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 705:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 706:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval Lun status (0: not ready / 1: ready)
 707:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 708:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_UnitIsReady(USBH_HandleTypeDef *phost, uint8_t lun)
 709:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1487              		.loc 1 709 1 is_stmt 1 view -0
 1488              		.cfi_startproc
 1489              		@ args = 0, pretend = 0, frame = 0
 1490              		@ frame_needed = 0, uses_anonymous_args = 0
 1491              		@ link register save eliminated.
 710:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1492              		.loc 1 710 3 view .LVU511
 1493              		.loc 1 710 62 is_stmt 0 view .LVU512
 1494 0000 D0F87833 		ldr	r3, [r0, #888]
 1495              		.loc 1 710 22 view .LVU513
 1496 0004 DA69     		ldr	r2, [r3, #28]
 1497              	.LVL136:
 711:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t res;
 1498              		.loc 1 711 3 is_stmt 1 view .LVU514
 712:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 713:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->unit[lun].error == MSC_OK))
 1499              		.loc 1 713 3 view .LVU515
 1500              		.loc 1 713 13 is_stmt 0 view .LVU516
 1501 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1502 0008 DBB2     		uxtb	r3, r3
 1503              		.loc 1 713 6 view .LVU517
 1504 000a 0B2B     		cmp	r3, #11
 1505 000c 01D0     		beq	.L107
 714:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 715:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 1U;
 716:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 717:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 718:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 719:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 0U;
 1506              		.loc 1 719 9 view .LVU518
ARM GAS  /tmp/cclRUp6d.s 			page 48


 1507 000e 0020     		movs	r0, #0
 1508              	.LVL137:
 1509              		.loc 1 719 9 view .LVU519
 1510 0010 7047     		bx	lr
 1511              	.LVL138:
 1512              	.L107:
 713:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1513              		.loc 1 713 62 discriminator 1 view .LVU520
 1514 0012 3423     		movs	r3, #52
 1515 0014 03FB0121 		mla	r1, r3, r1, r2
 1516              	.LVL139:
 713:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1517              		.loc 1 713 62 discriminator 1 view .LVU521
 1518 0018 91F89130 		ldrb	r3, [r1, #145]	@ zero_extendqisi2
 713:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1519              		.loc 1 713 37 discriminator 1 view .LVU522
 1520 001c 0BB1     		cbz	r3, .L106
 1521              		.loc 1 719 9 view .LVU523
 1522 001e 0020     		movs	r0, #0
 1523              	.LVL140:
 1524              		.loc 1 719 9 view .LVU524
 1525 0020 7047     		bx	lr
 1526              	.LVL141:
 1527              	.L106:
 715:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1528              		.loc 1 715 9 view .LVU525
 1529 0022 0120     		movs	r0, #1
 1530              	.LVL142:
 720:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 721:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 722:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return res;
 1531              		.loc 1 722 3 is_stmt 1 view .LVU526
 723:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1532              		.loc 1 723 1 is_stmt 0 view .LVU527
 1533 0024 7047     		bx	lr
 1534              		.cfi_endproc
 1535              	.LFE76:
 1537              		.section	.text.USBH_MSC_GetLUNInfo,"ax",%progbits
 1538              		.align	1
 1539              		.global	USBH_MSC_GetLUNInfo
 1540              		.syntax unified
 1541              		.thumb
 1542              		.thumb_func
 1543              		.fpu softvfp
 1545              	USBH_MSC_GetLUNInfo:
 1546              	.LVL143:
 1547              	.LFB77:
 724:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 725:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 726:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_GetLUNInfo
 727:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function return a LUN information
 728:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 729:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 730:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 731:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 732:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_GetLUNInfo(USBH_HandleTypeDef *phost, uint8_t lun, MSC_LUNTypeDef *info
 733:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
ARM GAS  /tmp/cclRUp6d.s 			page 49


 1548              		.loc 1 733 1 is_stmt 1 view -0
 1549              		.cfi_startproc
 1550              		@ args = 0, pretend = 0, frame = 0
 1551              		@ frame_needed = 0, uses_anonymous_args = 0
 1552              		@ link register save eliminated.
 734:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1553              		.loc 1 734 3 view .LVU529
 1554              		.loc 1 734 62 is_stmt 0 view .LVU530
 1555 0000 D0F87833 		ldr	r3, [r0, #888]
 1556              		.loc 1 734 22 view .LVU531
 1557 0004 DB69     		ldr	r3, [r3, #28]
 1558              	.LVL144:
 735:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->gState == HOST_CLASS)
 1559              		.loc 1 735 3 is_stmt 1 view .LVU532
 1560              		.loc 1 735 12 is_stmt 0 view .LVU533
 1561 0006 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1562              	.LVL145:
 1563              		.loc 1 735 12 view .LVU534
 1564 0008 C0B2     		uxtb	r0, r0
 1565              		.loc 1 735 6 view .LVU535
 1566 000a 0B28     		cmp	r0, #11
 1567 000c 01D0     		beq	.L116
 736:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 737:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_memcpy(info, &MSC_Handle->unit[lun], sizeof(MSC_LUNTypeDef));
 738:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 739:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 740:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 741:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 742:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 1568              		.loc 1 742 12 view .LVU536
 1569 000e 0220     		movs	r0, #2
 743:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 744:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1570              		.loc 1 744 1 view .LVU537
 1571 0010 7047     		bx	lr
 1572              	.L116:
 733:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1573              		.loc 1 733 1 view .LVU538
 1574 0012 70B4     		push	{r4, r5, r6}
 1575              	.LCFI11:
 1576              		.cfi_def_cfa_offset 12
 1577              		.cfi_offset 4, -12
 1578              		.cfi_offset 5, -8
 1579              		.cfi_offset 6, -4
 737:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1580              		.loc 1 737 5 is_stmt 1 view .LVU539
 737:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1581              		.loc 1 737 23 is_stmt 0 view .LVU540
 1582 0014 3420     		movs	r0, #52
 1583 0016 00FB01F1 		mul	r1, r0, r1
 1584              	.LVL146:
 737:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1585              		.loc 1 737 23 view .LVU541
 1586 001a 9031     		adds	r1, r1, #144
 1587 001c 0B44     		add	r3, r3, r1
 1588              	.LVL147:
 737:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
ARM GAS  /tmp/cclRUp6d.s 			page 50


 1589              		.loc 1 737 5 view .LVU542
 1590 001e 03F13006 		add	r6, r3, #48
 1591              	.LVL148:
 1592              	.L110:
 737:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1593              		.loc 1 737 5 view .LVU543
 1594 0022 1D68     		ldr	r5, [r3]	@ unaligned
 1595 0024 5C68     		ldr	r4, [r3, #4]	@ unaligned
 1596 0026 9868     		ldr	r0, [r3, #8]	@ unaligned
 1597 0028 D968     		ldr	r1, [r3, #12]	@ unaligned
 1598 002a 1560     		str	r5, [r2]	@ unaligned
 1599 002c 5460     		str	r4, [r2, #4]	@ unaligned
 1600 002e 9060     		str	r0, [r2, #8]	@ unaligned
 1601 0030 D160     		str	r1, [r2, #12]	@ unaligned
 1602 0032 1033     		adds	r3, r3, #16
 1603 0034 1032     		adds	r2, r2, #16
 1604 0036 B342     		cmp	r3, r6
 1605 0038 F3D1     		bne	.L110
 1606 003a 1B68     		ldr	r3, [r3]	@ unaligned
 1607 003c 1360     		str	r3, [r2]	@ unaligned
 738:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1608              		.loc 1 738 5 is_stmt 1 view .LVU544
 738:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1609              		.loc 1 738 12 is_stmt 0 view .LVU545
 1610 003e 0020     		movs	r0, #0
 1611              		.loc 1 744 1 view .LVU546
 1612 0040 70BC     		pop	{r4, r5, r6}
 1613              	.LCFI12:
 1614              		.cfi_restore 6
 1615              		.cfi_restore 5
 1616              		.cfi_restore 4
 1617              		.cfi_def_cfa_offset 0
 1618 0042 7047     		bx	lr
 1619              		.cfi_endproc
 1620              	.LFE77:
 1622              		.section	.text.USBH_MSC_Read,"ax",%progbits
 1623              		.align	1
 1624              		.global	USBH_MSC_Read
 1625              		.syntax unified
 1626              		.thumb
 1627              		.thumb_func
 1628              		.fpu softvfp
 1630              	USBH_MSC_Read:
 1631              	.LVL149:
 1632              	.LFB78:
 745:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 746:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 747:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Read
 748:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function performs a Read operation
 749:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 750:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 751:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  address: sector address
 752:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  pbuf: pointer to data
 753:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  length: number of sector to read
 754:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 755:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 756:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_Read(USBH_HandleTypeDef *phost,
ARM GAS  /tmp/cclRUp6d.s 			page 51


 757:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                  uint8_t lun,
 758:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                  uint32_t address,
 759:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                  uint8_t *pbuf,
 760:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                  uint32_t length)
 761:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1633              		.loc 1 761 1 is_stmt 1 view -0
 1634              		.cfi_startproc
 1635              		@ args = 4, pretend = 0, frame = 0
 1636              		@ frame_needed = 0, uses_anonymous_args = 0
 1637              		.loc 1 761 1 is_stmt 0 view .LVU548
 1638 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1639              	.LCFI13:
 1640              		.cfi_def_cfa_offset 24
 1641              		.cfi_offset 4, -24
 1642              		.cfi_offset 5, -20
 1643              		.cfi_offset 6, -16
 1644              		.cfi_offset 7, -12
 1645              		.cfi_offset 8, -8
 1646              		.cfi_offset 14, -4
 1647 0004 82B0     		sub	sp, sp, #8
 1648              	.LCFI14:
 1649              		.cfi_def_cfa_offset 32
 1650 0006 0D46     		mov	r5, r1
 1651 0008 089E     		ldr	r6, [sp, #32]
 762:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1652              		.loc 1 762 3 is_stmt 1 view .LVU549
 763:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1653              		.loc 1 763 3 view .LVU550
 1654              		.loc 1 763 62 is_stmt 0 view .LVU551
 1655 000a D0F87813 		ldr	r1, [r0, #888]
 1656              	.LVL150:
 1657              		.loc 1 763 22 view .LVU552
 1658 000e CF69     		ldr	r7, [r1, #28]
 1659              	.LVL151:
 764:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 765:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->device.is_connected == 0U) ||
 1660              		.loc 1 765 3 is_stmt 1 view .LVU553
 1661              		.loc 1 765 21 is_stmt 0 view .LVU554
 1662 0010 90F81E13 		ldrb	r1, [r0, #798]	@ zero_extendqisi2
 1663              		.loc 1 765 6 view .LVU555
 1664 0014 C9B3     		cbz	r1, .L122
 1665 0016 0446     		mov	r4, r0
 766:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1666              		.loc 1 766 13 discriminator 1 view .LVU556
 1667 0018 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 1668 001a C9B2     		uxtb	r1, r1
 765:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1669              		.loc 1 765 42 discriminator 1 view .LVU557
 1670 001c 0B29     		cmp	r1, #11
 1671 001e 36D1     		bne	.L123
 767:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (MSC_Handle->unit[lun].state != MSC_IDLE))
 1672              		.loc 1 767 29 view .LVU558
 1673 0020 3421     		movs	r1, #52
 1674 0022 01FB0571 		mla	r1, r1, r5, r7
 1675 0026 91F89010 		ldrb	r1, [r1, #144]	@ zero_extendqisi2
 766:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1676              		.loc 1 766 37 view .LVU559
ARM GAS  /tmp/cclRUp6d.s 			page 52


 1677 002a 0129     		cmp	r1, #1
 1678 002c 01D0     		beq	.L126
 768:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 769:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return  USBH_FAIL;
 1679              		.loc 1 769 13 view .LVU560
 1680 002e 0220     		movs	r0, #2
 1681              	.LVL152:
 1682              		.loc 1 769 13 view .LVU561
 1683 0030 2EE0     		b	.L118
 1684              	.LVL153:
 1685              	.L126:
 770:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 771:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 772:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_READ;
 1686              		.loc 1 772 3 is_stmt 1 view .LVU562
 1687              		.loc 1 772 21 is_stmt 0 view .LVU563
 1688 0032 0620     		movs	r0, #6
 1689              	.LVL154:
 1690              		.loc 1 772 21 view .LVU564
 1691 0034 3873     		strb	r0, [r7, #12]
 773:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_READ;
 1692              		.loc 1 773 3 is_stmt 1 view .LVU565
 1693              		.loc 1 773 31 is_stmt 0 view .LVU566
 1694 0036 3421     		movs	r1, #52
 1695 0038 01FB0571 		mla	r1, r1, r5, r7
 1696 003c 81F89000 		strb	r0, [r1, #144]
 774:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 1697              		.loc 1 774 3 is_stmt 1 view .LVU567
 1698              		.loc 1 774 22 is_stmt 0 view .LVU568
 1699 0040 A7F8FA50 		strh	r5, [r7, #250]	@ movhi
 775:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 776:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SCSI_Read(phost, lun, address, pbuf, length);
 1700              		.loc 1 776 3 is_stmt 1 view .LVU569
 1701 0044 0096     		str	r6, [sp]
 1702 0046 2946     		mov	r1, r5
 1703 0048 2046     		mov	r0, r4
 1704 004a FFF7FEFF 		bl	USBH_MSC_SCSI_Read
 1705              	.LVL155:
 777:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 778:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   timeout = phost->Timer;
 1706              		.loc 1 778 3 view .LVU570
 1707              		.loc 1 778 11 is_stmt 0 view .LVU571
 1708 004e D4F8C083 		ldr	r8, [r4, #960]
 1709              	.LVL156:
 779:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 780:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   while (USBH_MSC_RdWrProcess(phost, lun) == USBH_BUSY)
 1710              		.loc 1 780 3 is_stmt 1 view .LVU572
 1711              	.L119:
 1712              		.loc 1 780 9 view .LVU573
 1713              		.loc 1 780 10 is_stmt 0 view .LVU574
 1714 0052 2946     		mov	r1, r5
 1715 0054 2046     		mov	r0, r4
 1716 0056 FFF7FEFF 		bl	USBH_MSC_RdWrProcess
 1717              	.LVL157:
 1718              		.loc 1 780 9 view .LVU575
 1719 005a 0128     		cmp	r0, #1
 1720 005c 11D1     		bne	.L127
ARM GAS  /tmp/cclRUp6d.s 			page 53


 781:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 782:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if (((phost->Timer - timeout) > (10000U * length)) || (phost->device.is_connected == 0U))
 1721              		.loc 1 782 5 is_stmt 1 view .LVU576
 1722              		.loc 1 782 16 is_stmt 0 view .LVU577
 1723 005e D4F8C023 		ldr	r2, [r4, #960]
 1724              		.loc 1 782 24 view .LVU578
 1725 0062 A2EB0802 		sub	r2, r2, r8
 1726              		.loc 1 782 45 view .LVU579
 1727 0066 42F21073 		movw	r3, #10000
 1728 006a 03FB06F3 		mul	r3, r3, r6
 1729              		.loc 1 782 8 view .LVU580
 1730 006e 9A42     		cmp	r2, r3
 1731 0070 03D8     		bhi	.L120
 1732              		.loc 1 782 73 discriminator 1 view .LVU581
 1733 0072 94F81E33 		ldrb	r3, [r4, #798]	@ zero_extendqisi2
 1734              		.loc 1 782 56 discriminator 1 view .LVU582
 1735 0076 002B     		cmp	r3, #0
 1736 0078 EBD1     		bne	.L119
 1737              	.L120:
 783:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 784:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->state = MSC_IDLE;
 1738              		.loc 1 784 7 is_stmt 1 view .LVU583
 1739              		.loc 1 784 25 is_stmt 0 view .LVU584
 1740 007a 0123     		movs	r3, #1
 1741 007c 3B73     		strb	r3, [r7, #12]
 785:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 1742              		.loc 1 785 7 is_stmt 1 view .LVU585
 1743              		.loc 1 785 14 is_stmt 0 view .LVU586
 1744 007e 0220     		movs	r0, #2
 1745 0080 06E0     		b	.L118
 1746              	.L127:
 786:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 787:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 788:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_IDLE;
 1747              		.loc 1 788 3 is_stmt 1 view .LVU587
 1748              		.loc 1 788 21 is_stmt 0 view .LVU588
 1749 0082 0123     		movs	r3, #1
 1750 0084 3B73     		strb	r3, [r7, #12]
 789:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 790:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 1751              		.loc 1 790 3 is_stmt 1 view .LVU589
 1752              		.loc 1 790 10 is_stmt 0 view .LVU590
 1753 0086 0020     		movs	r0, #0
 1754 0088 02E0     		b	.L118
 1755              	.LVL158:
 1756              	.L122:
 769:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1757              		.loc 1 769 13 view .LVU591
 1758 008a 0220     		movs	r0, #2
 1759              	.LVL159:
 769:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1760              		.loc 1 769 13 view .LVU592
 1761 008c 00E0     		b	.L118
 1762              	.LVL160:
 1763              	.L123:
 769:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1764              		.loc 1 769 13 view .LVU593
ARM GAS  /tmp/cclRUp6d.s 			page 54


 1765 008e 0220     		movs	r0, #2
 1766              	.LVL161:
 1767              	.L118:
 791:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1768              		.loc 1 791 1 view .LVU594
 1769 0090 02B0     		add	sp, sp, #8
 1770              	.LCFI15:
 1771              		.cfi_def_cfa_offset 24
 1772              		@ sp needed
 1773 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1774              		.loc 1 791 1 view .LVU595
 1775              		.cfi_endproc
 1776              	.LFE78:
 1778              		.section	.text.USBH_MSC_Write,"ax",%progbits
 1779              		.align	1
 1780              		.global	USBH_MSC_Write
 1781              		.syntax unified
 1782              		.thumb
 1783              		.thumb_func
 1784              		.fpu softvfp
 1786              	USBH_MSC_Write:
 1787              	.LVL162:
 1788              	.LFB79:
 792:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 793:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 794:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Write
 795:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function performs a Write operation
 796:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 797:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 798:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  address: sector address
 799:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  pbuf: pointer to data
 800:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  length: number of sector to write
 801:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 802:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 803:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_Write(USBH_HandleTypeDef *phost,
 804:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                   uint8_t lun,
 805:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                   uint32_t address,
 806:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                   uint8_t *pbuf,
 807:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                   uint32_t length)
 808:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1789              		.loc 1 808 1 is_stmt 1 view -0
 1790              		.cfi_startproc
 1791              		@ args = 4, pretend = 0, frame = 0
 1792              		@ frame_needed = 0, uses_anonymous_args = 0
 1793              		.loc 1 808 1 is_stmt 0 view .LVU597
 1794 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1795              	.LCFI16:
 1796              		.cfi_def_cfa_offset 24
 1797              		.cfi_offset 4, -24
 1798              		.cfi_offset 5, -20
 1799              		.cfi_offset 6, -16
 1800              		.cfi_offset 7, -12
 1801              		.cfi_offset 8, -8
 1802              		.cfi_offset 14, -4
 1803 0004 82B0     		sub	sp, sp, #8
 1804              	.LCFI17:
 1805              		.cfi_def_cfa_offset 32
ARM GAS  /tmp/cclRUp6d.s 			page 55


 1806 0006 0D46     		mov	r5, r1
 1807 0008 089E     		ldr	r6, [sp, #32]
 809:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1808              		.loc 1 809 3 is_stmt 1 view .LVU598
 810:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1809              		.loc 1 810 3 view .LVU599
 1810              		.loc 1 810 62 is_stmt 0 view .LVU600
 1811 000a D0F87813 		ldr	r1, [r0, #888]
 1812              	.LVL163:
 1813              		.loc 1 810 22 view .LVU601
 1814 000e CF69     		ldr	r7, [r1, #28]
 1815              	.LVL164:
 811:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 812:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->device.is_connected == 0U) ||
 1816              		.loc 1 812 3 is_stmt 1 view .LVU602
 1817              		.loc 1 812 21 is_stmt 0 view .LVU603
 1818 0010 90F81E13 		ldrb	r1, [r0, #798]	@ zero_extendqisi2
 1819              		.loc 1 812 6 view .LVU604
 1820 0014 C9B3     		cbz	r1, .L133
 1821 0016 0446     		mov	r4, r0
 813:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1822              		.loc 1 813 13 discriminator 1 view .LVU605
 1823 0018 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 1824 001a C9B2     		uxtb	r1, r1
 812:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1825              		.loc 1 812 42 discriminator 1 view .LVU606
 1826 001c 0B29     		cmp	r1, #11
 1827 001e 36D1     		bne	.L134
 814:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (MSC_Handle->unit[lun].state != MSC_IDLE))
 1828              		.loc 1 814 29 view .LVU607
 1829 0020 3421     		movs	r1, #52
 1830 0022 01FB0571 		mla	r1, r1, r5, r7
 1831 0026 91F89010 		ldrb	r1, [r1, #144]	@ zero_extendqisi2
 813:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1832              		.loc 1 813 37 view .LVU608
 1833 002a 0129     		cmp	r1, #1
 1834 002c 01D0     		beq	.L137
 815:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 816:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return  USBH_FAIL;
 1835              		.loc 1 816 13 view .LVU609
 1836 002e 0220     		movs	r0, #2
 1837              	.LVL165:
 1838              		.loc 1 816 13 view .LVU610
 1839 0030 2EE0     		b	.L129
 1840              	.LVL166:
 1841              	.L137:
 817:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 818:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 819:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_WRITE;
 1842              		.loc 1 819 3 is_stmt 1 view .LVU611
 1843              		.loc 1 819 21 is_stmt 0 view .LVU612
 1844 0032 0720     		movs	r0, #7
 1845              	.LVL167:
 1846              		.loc 1 819 21 view .LVU613
 1847 0034 3873     		strb	r0, [r7, #12]
 820:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_WRITE;
 1848              		.loc 1 820 3 is_stmt 1 view .LVU614
ARM GAS  /tmp/cclRUp6d.s 			page 56


 1849              		.loc 1 820 31 is_stmt 0 view .LVU615
 1850 0036 3421     		movs	r1, #52
 1851 0038 01FB0571 		mla	r1, r1, r5, r7
 1852 003c 81F89000 		strb	r0, [r1, #144]
 821:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 1853              		.loc 1 821 3 is_stmt 1 view .LVU616
 1854              		.loc 1 821 22 is_stmt 0 view .LVU617
 1855 0040 A7F8FA50 		strh	r5, [r7, #250]	@ movhi
 822:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 823:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SCSI_Write(phost, lun, address, pbuf, length);
 1856              		.loc 1 823 3 is_stmt 1 view .LVU618
 1857 0044 0096     		str	r6, [sp]
 1858 0046 2946     		mov	r1, r5
 1859 0048 2046     		mov	r0, r4
 1860 004a FFF7FEFF 		bl	USBH_MSC_SCSI_Write
 1861              	.LVL168:
 824:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 825:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   timeout = phost->Timer;
 1862              		.loc 1 825 3 view .LVU619
 1863              		.loc 1 825 11 is_stmt 0 view .LVU620
 1864 004e D4F8C083 		ldr	r8, [r4, #960]
 1865              	.LVL169:
 826:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   while (USBH_MSC_RdWrProcess(phost, lun) == USBH_BUSY)
 1866              		.loc 1 826 3 is_stmt 1 view .LVU621
 1867              	.L130:
 1868              		.loc 1 826 9 view .LVU622
 1869              		.loc 1 826 10 is_stmt 0 view .LVU623
 1870 0052 2946     		mov	r1, r5
 1871 0054 2046     		mov	r0, r4
 1872 0056 FFF7FEFF 		bl	USBH_MSC_RdWrProcess
 1873              	.LVL170:
 1874              		.loc 1 826 9 view .LVU624
 1875 005a 0128     		cmp	r0, #1
 1876 005c 11D1     		bne	.L138
 827:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 828:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if (((phost->Timer - timeout) > (10000U * length)) || (phost->device.is_connected == 0U))
 1877              		.loc 1 828 5 is_stmt 1 view .LVU625
 1878              		.loc 1 828 16 is_stmt 0 view .LVU626
 1879 005e D4F8C023 		ldr	r2, [r4, #960]
 1880              		.loc 1 828 24 view .LVU627
 1881 0062 A2EB0802 		sub	r2, r2, r8
 1882              		.loc 1 828 45 view .LVU628
 1883 0066 42F21073 		movw	r3, #10000
 1884 006a 03FB06F3 		mul	r3, r3, r6
 1885              		.loc 1 828 8 view .LVU629
 1886 006e 9A42     		cmp	r2, r3
 1887 0070 03D8     		bhi	.L131
 1888              		.loc 1 828 73 discriminator 1 view .LVU630
 1889 0072 94F81E33 		ldrb	r3, [r4, #798]	@ zero_extendqisi2
 1890              		.loc 1 828 56 discriminator 1 view .LVU631
 1891 0076 002B     		cmp	r3, #0
 1892 0078 EBD1     		bne	.L130
 1893              	.L131:
 829:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 830:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->state = MSC_IDLE;
 1894              		.loc 1 830 7 is_stmt 1 view .LVU632
 1895              		.loc 1 830 25 is_stmt 0 view .LVU633
ARM GAS  /tmp/cclRUp6d.s 			page 57


 1896 007a 0123     		movs	r3, #1
 1897 007c 3B73     		strb	r3, [r7, #12]
 831:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 1898              		.loc 1 831 7 is_stmt 1 view .LVU634
 1899              		.loc 1 831 14 is_stmt 0 view .LVU635
 1900 007e 0220     		movs	r0, #2
 1901 0080 06E0     		b	.L129
 1902              	.L138:
 832:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 833:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 834:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_IDLE;
 1903              		.loc 1 834 3 is_stmt 1 view .LVU636
 1904              		.loc 1 834 21 is_stmt 0 view .LVU637
 1905 0082 0123     		movs	r3, #1
 1906 0084 3B73     		strb	r3, [r7, #12]
 835:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 1907              		.loc 1 835 3 is_stmt 1 view .LVU638
 1908              		.loc 1 835 10 is_stmt 0 view .LVU639
 1909 0086 0020     		movs	r0, #0
 1910 0088 02E0     		b	.L129
 1911              	.LVL171:
 1912              	.L133:
 816:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1913              		.loc 1 816 13 view .LVU640
 1914 008a 0220     		movs	r0, #2
 1915              	.LVL172:
 816:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1916              		.loc 1 816 13 view .LVU641
 1917 008c 00E0     		b	.L129
 1918              	.LVL173:
 1919              	.L134:
 816:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1920              		.loc 1 816 13 view .LVU642
 1921 008e 0220     		movs	r0, #2
 1922              	.LVL174:
 1923              	.L129:
 836:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1924              		.loc 1 836 1 view .LVU643
 1925 0090 02B0     		add	sp, sp, #8
 1926              	.LCFI18:
 1927              		.cfi_def_cfa_offset 24
 1928              		@ sp needed
 1929 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1930              		.loc 1 836 1 view .LVU644
 1931              		.cfi_endproc
 1932              	.LFE79:
 1934              		.global	USBH_msc
 1935              		.section	.rodata.str1.4,"aMS",%progbits,1
 1936              		.align	2
 1937              	.LC0:
 1938 0000 4D534300 		.ascii	"MSC\000"
 1939              		.section	.data.USBH_msc,"aw"
 1940              		.align	2
 1943              	USBH_msc:
 1944 0000 00000000 		.word	.LC0
 1945 0004 08       		.byte	8
 1946 0005 000000   		.space	3
ARM GAS  /tmp/cclRUp6d.s 			page 58


 1947 0008 00000000 		.word	USBH_MSC_InterfaceInit
 1948 000c 00000000 		.word	USBH_MSC_InterfaceDeInit
 1949 0010 00000000 		.word	USBH_MSC_ClassRequest
 1950 0014 00000000 		.word	USBH_MSC_Process
 1951 0018 00000000 		.word	USBH_MSC_SOFProcess
 1952 001c 00000000 		.word	0
 1953              		.text
 1954              	.Letext0:
 1955              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1956              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 1957              		.file 4 "/usr/include/newlib/sys/_types.h"
 1958              		.file 5 "/usr/include/newlib/sys/reent.h"
 1959              		.file 6 "/usr/include/newlib/sys/lock.h"
 1960              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 1961              		.file 8 "/usr/include/newlib/stdlib.h"
 1962              		.file 9 "Drivers/CMSIS/Include/core_cm3.h"
 1963              		.file 10 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 1964              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1965              		.file 12 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 1966              		.file 13 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
 1967              		.file 14 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_bot.h"
 1968              		.file 15 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_scsi.h"
 1969              		.file 16 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc.h"
 1970              		.file 17 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_pipes.h"
 1971              		.file 18 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_core.h"
 1972              		.file 19 "<built-in>"
ARM GAS  /tmp/cclRUp6d.s 			page 59


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbh_msc.c
     /tmp/cclRUp6d.s:16     .text.USBH_MSC_SOFProcess:0000000000000000 $t
     /tmp/cclRUp6d.s:23     .text.USBH_MSC_SOFProcess:0000000000000000 USBH_MSC_SOFProcess
     /tmp/cclRUp6d.s:43     .text.USBH_MSC_Process:0000000000000000 $t
     /tmp/cclRUp6d.s:49     .text.USBH_MSC_Process:0000000000000000 USBH_MSC_Process
     /tmp/cclRUp6d.s:112    .text.USBH_MSC_Process:000000000000003e $d
     /tmp/cclRUp6d.s:121    .text.USBH_MSC_Process:0000000000000050 $t
     /tmp/cclRUp6d.s:623    .text.USBH_MSC_ClassRequest:0000000000000000 $t
     /tmp/cclRUp6d.s:629    .text.USBH_MSC_ClassRequest:0000000000000000 USBH_MSC_ClassRequest
     /tmp/cclRUp6d.s:767    .text.USBH_MSC_InterfaceDeInit:0000000000000000 $t
     /tmp/cclRUp6d.s:773    .text.USBH_MSC_InterfaceDeInit:0000000000000000 USBH_MSC_InterfaceDeInit
     /tmp/cclRUp6d.s:863    .text.USBH_MSC_InterfaceInit:0000000000000000 $t
     /tmp/cclRUp6d.s:869    .text.USBH_MSC_InterfaceInit:0000000000000000 USBH_MSC_InterfaceInit
     /tmp/cclRUp6d.s:1113   .text.USBH_MSC_RdWrProcess:0000000000000000 $t
     /tmp/cclRUp6d.s:1119   .text.USBH_MSC_RdWrProcess:0000000000000000 USBH_MSC_RdWrProcess
     /tmp/cclRUp6d.s:1369   .text.USBH_MSC_IsReady:0000000000000000 $t
     /tmp/cclRUp6d.s:1376   .text.USBH_MSC_IsReady:0000000000000000 USBH_MSC_IsReady
     /tmp/cclRUp6d.s:1420   .text.USBH_MSC_GetMaxLUN:0000000000000000 $t
     /tmp/cclRUp6d.s:1427   .text.USBH_MSC_GetMaxLUN:0000000000000000 USBH_MSC_GetMaxLUN
     /tmp/cclRUp6d.s:1477   .text.USBH_MSC_UnitIsReady:0000000000000000 $t
     /tmp/cclRUp6d.s:1484   .text.USBH_MSC_UnitIsReady:0000000000000000 USBH_MSC_UnitIsReady
     /tmp/cclRUp6d.s:1538   .text.USBH_MSC_GetLUNInfo:0000000000000000 $t
     /tmp/cclRUp6d.s:1545   .text.USBH_MSC_GetLUNInfo:0000000000000000 USBH_MSC_GetLUNInfo
     /tmp/cclRUp6d.s:1623   .text.USBH_MSC_Read:0000000000000000 $t
     /tmp/cclRUp6d.s:1630   .text.USBH_MSC_Read:0000000000000000 USBH_MSC_Read
     /tmp/cclRUp6d.s:1779   .text.USBH_MSC_Write:0000000000000000 $t
     /tmp/cclRUp6d.s:1786   .text.USBH_MSC_Write:0000000000000000 USBH_MSC_Write
     /tmp/cclRUp6d.s:1943   .data.USBH_msc:0000000000000000 USBH_msc
     /tmp/cclRUp6d.s:1936   .rodata.str1.4:0000000000000000 $d
     /tmp/cclRUp6d.s:1940   .data.USBH_msc:0000000000000000 $d

UNDEFINED SYMBOLS
USBH_MSC_SCSI_Inquiry
USBH_MSC_SCSI_TestUnitReady
USBH_MSC_SCSI_ReadCapacity
USBH_MSC_SCSI_RequestSense
USBH_MSC_BOT_REQ_GetMaxLUN
USBH_ClrFeature
free
USBH_ClosePipe
USBH_FreePipe
USBH_FindInterface
USBH_SelectInterface
malloc
memset
USBH_AllocPipe
USBH_MSC_BOT_Init
USBH_OpenPipe
USBH_LL_SetToggle
USBH_MSC_SCSI_Read
USBH_MSC_SCSI_Write
